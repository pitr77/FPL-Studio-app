(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3015:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eM});var l=s(5155),a=s(2115);let r="https://fantasy.premierleague.com/api";async function n(e){let t=await fetch(e);if(!t.ok)throw Error("Backend API error: ".concat(t.status));return await t.json()}async function i(e){let t=encodeURIComponent(e);try{let e=await fetch("https://corsproxy.io/?".concat(t));if(!e.ok)throw Error("Status ".concat(e.status));return await e.json()}catch(e){console.warn("Proxy 1 (corsproxy.io) failed, trying fallback...",e)}try{let e=await fetch("https://api.allorigins.win/get?url=".concat(t));if(!e.ok)throw Error("Status ".concat(e.status));let s=await e.json();if(!s.contents)throw Error("No content in response");return JSON.parse(s.contents)}catch(e){console.warn("Proxy 2 (allorigins) failed, trying fallback...",e)}try{let e=await fetch("https://api.codetabs.com/v1/proxy?quest=".concat(t));if(!e.ok)throw Error("Status ".concat(e.status));return await e.json()}catch(e){throw console.error("All proxy strategies failed:",e),Error("Failed to connect to FPL API via proxies. This may happen on free hosting if proxies rate-limit the domain. Please try refreshing later.")}}let o=async()=>{try{return await n("/api/fpl/bootstrap-static")}catch(e){return i("".concat(r,"/bootstrap-static/"))}},d=async()=>{try{return await n("/api/fpl/fixtures")}catch(e){return i("".concat(r,"/fixtures/"))}},c=async(e,t)=>{try{return await n("/api/fpl/entry/".concat(e,"/event/").concat(t,"/picks"))}catch(s){return i("".concat(r,"/entry/").concat(e,"/event/").concat(t,"/picks/"))}},x=async e=>{try{return await n("/api/fpl/element-summary/".concat(e))}catch(t){return i("".concat(r,"/element-summary/").concat(e,"/"))}},m=e=>{let t=e.replace(".jpg","");return"https://resources.premierleague.com/premierleague/photos/players/110x140/p".concat(t,".png")};var h=s(814),p=s(1524),b=s(7666),u=s(7910),f=s(7937);let j=e=>{let{data:t,myTeam:s,fixtures:r}=e,n=(0,a.useMemo)(()=>[...t.elements].sort((e,t)=>parseFloat(t.form)-parseFloat(e.form)).slice(0,3),[t.elements]),i=(0,a.useMemo)(()=>t.elements.filter(e=>10>parseFloat(e.selected_by_percent)).sort((e,t)=>parseFloat(t.form)-parseFloat(e.form)).slice(0,3),[t.elements]),o=(0,a.useMemo)(()=>{let e=t.events.find(e=>e.is_next);if(!e)return[];let s={};return t.teams.forEach(e=>{let l=t.elements.filter(t=>t.team===e.id).sort((e,t)=>parseFloat(t.form)-parseFloat(e.form)).slice(0,11);s[e.id]=l.reduce((e,t)=>e+parseFloat(t.form),0)}),r.filter(t=>t.event===e.id).map(e=>{var l,a;let r=s[e.team_h]||0,n=s[e.team_a]||0,i=null==(l=t.teams.find(t=>t.id===e.team_h))?void 0:l.short_name,o=null==(a=t.teams.find(t=>t.id===e.team_a))?void 0:a.short_name;return r>n+15?{team:i,opponent:o,isHome:!0,diff:r-n}:n>r+15?{team:o,opponent:i,isHome:!1,diff:n-r}:null}).filter(Boolean).sort((e,t)=>t.diff-e.diff).slice(0,3)},[t,r]),d=t.events.find(e=>e.is_next);return(0,l.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,l.jsxs)("div",{className:"bg-gradient-to-r from-purple-900 to-slate-900 p-8 rounded-2xl shadow-2xl border border-purple-500/20 relative overflow-hidden",children:[(0,l.jsxs)("div",{className:"relative z-10",children:[(0,l.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Welcome to FPL Mastermind"}),(0,l.jsx)("p",{className:"text-purple-200 text-lg max-w-2xl",children:"The ultimate portal for Fantasy Premier League statistics, team planning, and advanced analytics."}),d&&(0,l.jsxs)("div",{className:"mt-6 inline-flex items-center bg-slate-800/80 backdrop-blur px-4 py-2 rounded-lg border border-purple-500/50",children:[(0,l.jsx)("span",{className:"text-green-400 font-bold mr-2",children:"NEXT DEADLINE:"}),(0,l.jsxs)("span",{className:"text-white",children:[d.name," - ",new Date(d.deadline_time).toLocaleString()]})]})]}),(0,l.jsx)("div",{className:"absolute -right-10 -top-10 w-64 h-64 bg-purple-600/20 rounded-full blur-3xl"}),(0,l.jsx)("div",{className:"absolute bottom-0 right-20 w-32 h-32 bg-green-500/10 rounded-full blur-2xl"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700 flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,l.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg text-green-400",children:(0,l.jsx)(h.A,{size:20})}),(0,l.jsx)("h3",{className:"text-slate-200 font-bold text-sm uppercase",children:"Target Fixtures (Next GW)"})]}),(0,l.jsx)("div",{className:"flex-1 space-y-2",children:o.length>0?o.map((e,t)=>(0,l.jsxs)("div",{className:"flex justify-between items-center bg-slate-900/50 p-2 rounded border border-slate-700/50",children:[(0,l.jsx)("div",{className:"font-bold text-white",children:e.team}),(0,l.jsx)("div",{className:"text-xs text-slate-500",children:"vs"}),(0,l.jsxs)("div",{className:"text-sm text-slate-300",children:[e.opponent," ",(0,l.jsxs)("span",{className:"text-[10px] text-slate-500",children:["(",e.isHome?"H":"A",")"]})]})]},t)):(0,l.jsx)("div",{className:"text-slate-500 text-sm italic",children:"No clear easy fixtures this week."})})]}),(0,l.jsxs)("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700 flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,l.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg text-blue-400",children:(0,l.jsx)(p.A,{size:20})}),(0,l.jsx)("h3",{className:"text-slate-200 font-bold text-sm uppercase",children:"In-Form Leaders"})]}),(0,l.jsx)("div",{className:"flex-1 space-y-2",children:n.map(e=>{var s;return(0,l.jsxs)("div",{className:"flex justify-between items-center bg-slate-900/50 p-2 rounded border border-slate-700/50",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-bold text-white text-sm",children:e.web_name}),(0,l.jsx)("div",{className:"text-[10px] text-slate-500",children:null==(s=t.teams.find(t=>t.id===e.team))?void 0:s.short_name})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-green-400 font-bold text-sm",children:e.form}),(0,l.jsx)("div",{className:"text-[9px] text-slate-500 uppercase",children:"Form"})]})]},e.id)})})]}),(0,l.jsxs)("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700 flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,l.jsx)("div",{className:"p-2 bg-yellow-500/20 rounded-lg text-yellow-400",children:(0,l.jsx)(b.A,{size:20})}),(0,l.jsx)("h3",{className:"text-slate-200 font-bold text-sm uppercase",children:"Hidden Gems"})]}),(0,l.jsx)("div",{className:"flex-1 space-y-2",children:i.map(e=>(0,l.jsxs)("div",{className:"flex justify-between items-center bg-slate-900/50 p-2 rounded border border-slate-700/50",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-bold text-white text-sm",children:e.web_name}),(0,l.jsxs)("div",{className:"text-[10px] text-slate-500",children:["Own: ",e.selected_by_percent,"%"]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-yellow-400 font-bold text-sm",children:e.form}),(0,l.jsx)("div",{className:"text-[9px] text-slate-500 uppercase",children:"Form"})]})]},e.id))})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[(0,l.jsxs)("h3",{className:"text-xl font-bold mb-4 text-white flex items-center gap-2",children:[(0,l.jsx)(u.A,{className:"w-5 h-5 text-purple-400"})," Current Team Form Status"]}),0===s.length?(0,l.jsxs)("div",{className:"text-center py-10 text-slate-500 bg-slate-900/50 rounded-lg border border-dashed border-slate-700",children:[(0,l.jsx)("p",{children:"No team built yet."}),(0,l.jsx)("p",{className:"text-sm mt-2",children:'Go to the "My Team" tab to start building.'})]}):(0,l.jsxs)("div",{className:"space-y-3",children:[[...s].sort((e,t)=>parseFloat(t.form)-parseFloat(e.form)).slice(0,5).map(e=>{var s;return(0,l.jsxs)("div",{className:"flex justify-between items-center bg-slate-700/30 p-3 rounded hover:bg-slate-700/50 transition-colors",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"font-medium text-white",children:e.web_name}),(0,l.jsx)("span",{className:"text-xs text-slate-500",children:null==(s=t.teams.find(t=>t.id===e.team))?void 0:s.short_name})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("span",{className:"block text-green-400 font-bold text-sm",children:e.form}),(0,l.jsx)("span",{className:"text-[9px] text-slate-500 uppercase",children:"Form"})]}),(0,l.jsx)(f.A,{size:16,className:"text-slate-600"})]})]},e.id)}),s.length>5&&(0,l.jsx)("div",{className:"text-center pt-2",children:(0,l.jsx)("span",{className:"text-xs text-purple-400 cursor-pointer hover:text-purple-300",children:"View full team..."})})]})]}),(0,l.jsx)("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 flex flex-col justify-between",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4 text-white",children:"Quick Actions"}),(0,l.jsxs)("ul",{className:"space-y-4 text-slate-300",children:[(0,l.jsxs)("li",{className:"flex items-center gap-3 p-2 hover:bg-slate-700/50 rounded transition-colors",children:[(0,l.jsx)("span",{className:"w-8 h-8 rounded-lg bg-purple-500/20 text-purple-400 flex items-center justify-center text-sm font-bold",children:"1"}),(0,l.jsxs)("span",{children:["Check ",(0,l.jsx)("strong",{children:"Fixtures"})," for FDR Planner."]})]}),(0,l.jsxs)("li",{className:"flex items-center gap-3 p-2 hover:bg-slate-700/50 rounded transition-colors",children:[(0,l.jsx)("span",{className:"w-8 h-8 rounded-lg bg-blue-500/20 text-blue-400 flex items-center justify-center text-sm font-bold",children:"2"}),(0,l.jsxs)("span",{children:["Analyze ",(0,l.jsx)("strong",{children:"Detailed Stats"})," for differentials."]})]}),(0,l.jsxs)("li",{className:"flex items-center gap-3 p-2 hover:bg-slate-700/50 rounded transition-colors",children:[(0,l.jsx)("span",{className:"w-8 h-8 rounded-lg bg-green-500/20 text-green-400 flex items-center justify-center text-sm font-bold",children:"3"}),(0,l.jsxs)("span",{children:["Use ",(0,l.jsx)("strong",{children:"Transfer Picks"})," algorithm."]})]})]})]})})]})]})};var g=s(1362),N=s(2056),v=s(906),w=s(6613),y=s(5993),_=s(3007),k=s(6485),A=s(2108),S=s(4033),F=s(1456),T=s(368),C=s(908);let P=e=>{var t;let{fixtures:s,teams:r,events:n,players:i}=e,[o,d]=(0,a.useState)("schedule"),[c,x]=(0,a.useState)(!1),m=e=>{var t;return(null==(t=r.find(t=>t.id===e))?void 0:t.name)||"Unknown"},h=e=>{let t=i.filter(t=>t.team===e).sort((e,t)=>parseFloat(t.form)-parseFloat(e.form)).slice(0,12).reduce((e,t)=>e+parseFloat(t.form),0);return t>55?{bg:"bg-red-600",text:"text-white",border:"border-red-700",label:"Very Hard",score:5,threat:t}:t>45?{bg:"bg-orange-500",text:"text-white",border:"border-orange-600",label:"Hard",score:4,threat:t}:t>35?{bg:"bg-slate-500",text:"text-white",border:"border-slate-600",label:"Moderate",score:3,threat:t}:t>25?{bg:"bg-green-500",text:"text-white",border:"border-green-600",label:"Good",score:2,threat:t}:{bg:"bg-green-600",text:"text-white",border:"border-green-700",label:"Easy",score:1,threat:t}},p=e=>s.filter(t=>t.finished&&(t.team_h===e||t.team_a===e)).sort((e,t)=>new Date(e.kickoff_time).getTime()-new Date(t.kickoff_time).getTime()).slice(-5).map(t=>{var s,l;let a=t.team_h===e,r=null!=(s=t.team_h_score)?s:0,n=null!=(l=t.team_a_score)?l:0;return r===n?"D":a?r>n?"W":"L":n>r?"W":"L"}),b=(e,t,s,l)=>{if(null===e||null===t)return null;let a=e>t,r=t>e;s.score,l.score;let n=l.threat,i=s.threat;if(n>i+5){if(a)return{color:"text-green-500",icon:g.A,label:"Expected"};if(r)return{color:"text-red-500",icon:N.A,label:"Upset"}}else if(i>n+5){if(r)return{color:"text-green-500",icon:g.A,label:"Expected"};if(a)return{color:"text-red-500",icon:N.A,label:"Upset"}}else if(a&&s.score<=2||r&&l.score<=2)return{color:"text-green-500",icon:g.A,label:"Expected"};return{color:"text-slate-600",icon:v.A,label:"Neutral"}},j=(0,a.useMemo)(()=>{let e={};return s.forEach(t=>{e[t.event]||(e[t.event]=[]),e[t.event].push(t)}),e},[s]),P=n.find(e=>e.is_next)||n.find(e=>e.is_current)||n[0],[z,D]=(0,a.useState)(P?P.id:1),E=(0,a.useMemo)(()=>{let e=new Set,t={};return n.forEach(s=>{let l=new Date(s.deadline_time).toLocaleString("default",{month:"long",year:"numeric"});e.add(l),t[l]||(t[l]=[]),t[l].push(s)}),Array.from(e).map(e=>({name:e,events:t[e]}))},[n]),[M,L]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=n.find(e=>e.id===z);e&&L(new Date(e.deadline_time).toLocaleString("default",{month:"long",year:"numeric"}))},[z,n]);let I=e=>{D(e)},K=j[z]||[],G=(0,a.useMemo)(()=>{let e=0,t=0,s=0,l=0,a=0;return(j[z]||[]).filter(e=>e.finished).forEach(r=>{l++;let n=r.team_h_score||0,i=r.team_a_score||0;e+=n+i,0===(r.team_a_score||0)&&t++,0===(r.team_h_score||0)&&t++,n>i&&s++;let o=b(n,i,h(r.team_a),h(r.team_h));(null==o?void 0:o.label)==="Expected"&&a++}),{totalGoals:e,cleanSheets:t,homeWinPct:l>0?Math.round(s/l*100):0,count:l,correctPreds:a}},[j,z,i,r]),O=e=>(0,l.jsx)("div",{className:"flex flex-col items-center justify-center py-2 h-full w-full",children:(0,l.jsxs)("div",{className:"flex flex-col gap-0.5 p-0.5 rounded border border-white/20 w-5 md:w-7 bg-black/10",children:[[...e].reverse().map((e,t)=>{let s="bg-slate-700 border-slate-600";return"W"===e&&(s="bg-green-500 border-green-400 text-white shadow-sm"),"L"===e&&(s="bg-red-500 border-red-400 text-white shadow-sm"),"D"===e&&(s="bg-slate-500 border-slate-400 text-white"),(0,l.jsx)("div",{className:"w-3 h-3 md:w-5 md:h-4 text-[7px] md:text-[9px] font-bold flex items-center justify-center rounded-sm border ".concat(s," mx-auto"),children:e},t)}),0===e.length&&(0,l.jsx)("span",{className:"text-[8px] text-white/50 text-center",children:"-"})]})});return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-lg",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2 text-white mb-2",children:[(0,l.jsx)(k.A,{className:"w-6 h-6 text-purple-400"}),"Fixtures & FDR Planner"]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>x(!c),children:[(0,l.jsxs)("p",{className:"text-slate-400 text-sm",children:["Calculated using ",(0,l.jsx)("strong",{children:"Dynamic Difficulty"})," based on real-time form."]}),c?(0,l.jsx)(A.A,{size:16,className:"text-purple-400"}):(0,l.jsx)(S.A,{size:16,className:"text-purple-400"})]})]}),(0,l.jsxs)("div",{className:"flex bg-slate-900 p-1 rounded-lg border border-slate-700",children:[(0,l.jsxs)("button",{onClick:()=>d("schedule"),className:"flex items-center gap-2 px-4 py-2 rounded-md text-sm font-bold transition-all ".concat("schedule"===o?"bg-purple-600 text-white shadow-lg":"text-slate-400 hover:text-white"),children:[(0,l.jsx)(k.A,{size:16})," Schedule"]}),(0,l.jsxs)("button",{onClick:()=>d("planner"),className:"flex items-center gap-2 px-4 py-2 rounded-md text-sm font-bold transition-all ".concat("planner"===o?"bg-purple-600 text-white shadow-lg":"text-slate-400 hover:text-white"),children:[(0,l.jsx)(F.A,{size:16})," FDR Matrix"]})]})]}),(0,l.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row gap-4 items-center bg-slate-900/50 p-3 rounded-lg border border-slate-700",children:[(0,l.jsxs)("div",{className:"relative w-full sm:w-auto",children:[(0,l.jsx)("select",{value:M,onChange:e=>(e=>{L(e);let t=E.find(t=>t.name===e);t&&t.events.length>0&&D(t.events[0].id)})(e.target.value),className:"w-full sm:w-48 appearance-none bg-slate-800 text-white text-sm font-bold border border-slate-600 rounded px-4 py-2 pr-8 focus:ring-2 focus:ring-purple-500 outline-none",children:E.map(e=>(0,l.jsx)("option",{value:e.name,children:e.name},e.name))}),(0,l.jsx)(S.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-center",children:[(0,l.jsx)("button",{onClick:()=>{z>1&&I(z-1)},disabled:z<=1,className:"p-2 bg-slate-800 rounded border border-slate-600 text-white hover:bg-slate-700 disabled:opacity-50 transition-colors",children:(0,l.jsx)(T.A,{size:16})}),(0,l.jsxs)("div",{className:"relative flex-1 sm:flex-none",children:[(0,l.jsx)("select",{value:z,onChange:e=>I(Number(e.target.value)),className:"w-full sm:w-64 appearance-none bg-slate-800 text-white text-sm font-bold border border-slate-600 rounded px-4 py-2 pr-8 focus:ring-2 focus:ring-purple-500 outline-none text-center",children:null==(t=E.find(e=>e.name===M))?void 0:t.events.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," ",e.is_current?"(Current)":e.is_next?"(Next)":""]},e.id))}),(0,l.jsx)(S.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]}),(0,l.jsx)("button",{onClick:()=>{z<38&&I(z+1)},disabled:z>=38,className:"p-2 bg-slate-800 rounded border border-slate-600 text-white hover:bg-slate-700 disabled:opacity-50 transition-colors",children:(0,l.jsx)(f.A,{size:16})})]})]}),c&&(0,l.jsx)("div",{className:"mt-4 p-4 bg-slate-900/50 border border-purple-500/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-slate-300",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"font-bold text-white mb-2 flex items-center gap-2",children:[(0,l.jsx)(C.A,{size:14,className:"text-purple-400"})," Why is this different from Official FPL?"]}),(0,l.jsx)("p",{className:"mb-2",children:"The Official FPL FDR (Fixture Difficulty Rating) is often static. A top team (e.g., Man City) is always rated 5/5 difficulty, even if they have 5 injured starters and have lost 3 games in a row."}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Our Dynamic Model"})," is live. It recalculates difficulty based on the ",(0,l.jsx)("em",{children:"actual performance"})," (Form) of the opponent's best players over the last 30 days."]}),(0,l.jsxs)("p",{className:"mt-2 flex items-center gap-2 text-xs text-slate-400",children:[(0,l.jsx)("span",{className:"w-4 h-4 bg-slate-800 border border-white/20 rounded flex items-center justify-center font-bold",children:"W"}),"Form guide reads from Top (Newest) to Bottom (Oldest)."]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"font-bold text-white mb-2 flex items-center gap-2",children:[(0,l.jsx)(v.A,{size:14,className:"text-blue-400"})," Difficulty Legend"]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-[10px] font-bold text-white text-center",children:[(0,l.jsx)("div",{className:"bg-green-600 rounded py-1 border border-green-700",children:"Easy (1)"}),(0,l.jsx)("div",{className:"bg-green-500 rounded py-1 border border-green-600",children:"Good (2)"}),(0,l.jsx)("div",{className:"bg-slate-500 rounded py-1 border border-slate-600",children:"Moderate (3)"}),(0,l.jsx)("div",{className:"bg-orange-500 rounded py-1 border border-orange-600",children:"Hard (4)"}),(0,l.jsx)("div",{className:"bg-red-600 rounded py-1 border border-red-700 col-span-2",children:"Very Hard (5)"})]})]})]})})]}),"schedule"===o?(0,l.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 shadow flex items-center gap-4",children:[(0,l.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-full text-blue-400",children:(0,l.jsx)(w.A,{size:24})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xs text-slate-400 uppercase font-bold",children:"Total Goals"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-white",children:G.totalGoals}),(0,l.jsxs)("p",{className:"text-[10px] text-slate-500",children:["Scored in ",G.count," matches"]})]})]}),(0,l.jsxs)("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 shadow flex items-center gap-4",children:[(0,l.jsx)("div",{className:"p-3 bg-green-500/20 rounded-full text-green-400",children:(0,l.jsx)(u.A,{size:24})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xs text-slate-400 uppercase font-bold",children:"Clean Sheets"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-white",children:G.cleanSheets}),(0,l.jsx)("p",{className:"text-[10px] text-slate-500",children:"Defensive masterclasses"})]})]}),(0,l.jsxs)("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 shadow flex items-center gap-4",children:[(0,l.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-full text-purple-400",children:(0,l.jsx)(y.A,{size:24})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xs text-slate-400 uppercase font-bold",children:"Home Dominance"}),(0,l.jsxs)("div",{className:"text-2xl font-bold text-white",children:[G.homeWinPct,"%"]}),(0,l.jsx)("p",{className:"text-[10px] text-slate-500",children:"Home wins ratio"})]})]}),(0,l.jsxs)("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 shadow flex items-center gap-4",children:[(0,l.jsx)("div",{className:"p-3 bg-pink-500/20 rounded-full text-pink-400",children:(0,l.jsx)(_.A,{size:24})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xs text-slate-400 uppercase font-bold",children:"FDR Accuracy"}),(0,l.jsxs)("div",{className:"text-2xl font-bold text-white",children:[G.correctPreds," / ",G.count]}),(0,l.jsx)("p",{className:"text-[10px] text-slate-500",children:"Matches following form"})]})]})]}),(0,l.jsx)("div",{className:"space-y-3",children:K.length>0?K.map(e=>{let t=h(e.team_a),s=h(e.team_h),a=p(e.team_h),r=p(e.team_a),n=e.finished?b(e.team_h_score,e.team_a_score,t,s):null;return(0,l.jsxs)("div",{className:"relative bg-slate-800 rounded-lg border border-slate-700 shadow-sm hover:border-slate-500 transition-all group z-0 hover:z-10 overflow-visible",children:[(0,l.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-8 md:w-12 rounded-l-lg ".concat(t.bg," shadow-inner border-r border-black/10"),children:O(a)}),(0,l.jsx)("div",{className:"absolute right-0 top-0 bottom-0 w-8 md:w-12 rounded-r-lg ".concat(s.bg," shadow-inner border-l border-black/10"),children:O(r)}),(0,l.jsxs)("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center p-4 pl-10 pr-10 md:pl-16 md:pr-16 h-28 gap-2",children:[(0,l.jsx)("div",{className:"flex items-center justify-end gap-3 text-right overflow-hidden",children:(0,l.jsxs)("div",{className:"flex flex-col items-end min-w-0",children:[(0,l.jsx)("span",{className:"font-bold text-slate-100 text-sm md:text-xl leading-tight truncate w-full text-right",children:m(e.team_h)}),(0,l.jsxs)("span",{className:"text-[9px] md:text-[10px] uppercase font-bold px-1.5 rounded mt-1 ".concat(t.bg.replace("bg-","text-")," truncate"),children:["Op: ",t.label]})]})}),(0,l.jsx)("div",{className:"flex flex-col items-center min-w-[80px] md:min-w-[120px] px-2 relative",children:e.finished?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"bg-slate-900 px-2 md:px-4 py-1.5 rounded border border-slate-600 mb-1 shadow-inner",children:(0,l.jsxs)("div",{className:"text-xl md:text-2xl font-bold text-white tracking-widest font-mono",children:[e.team_h_score," - ",e.team_a_score]})}),n&&(0,l.jsxs)("div",{className:"flex items-center gap-1 text-[9px] md:text-[10px] uppercase font-bold ".concat(n.color," whitespace-nowrap"),children:[(0,l.jsx)(n.icon,{size:12})," ",n.label]})]}):(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-white font-bold text-base md:text-lg",children:new Date(e.kickoff_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),(0,l.jsx)("div",{className:"text-[10px] md:text-xs text-slate-500 uppercase font-bold",children:new Date(e.kickoff_time).toLocaleDateString([],{weekday:"short",day:"numeric"})})]})}),(0,l.jsx)("div",{className:"flex items-center justify-start gap-3 text-left overflow-hidden",children:(0,l.jsxs)("div",{className:"flex flex-col items-start min-w-0",children:[(0,l.jsx)("span",{className:"font-bold text-slate-100 text-sm md:text-xl leading-tight truncate w-full",children:m(e.team_a)}),(0,l.jsxs)("span",{className:"text-[9px] md:text-[10px] uppercase font-bold px-1.5 rounded mt-1 ".concat(s.bg.replace("bg-","text-")," truncate"),children:["Op: ",s.label]})]})})]})]},e.id)}):(0,l.jsx)("div",{className:"text-center text-slate-500 py-10",children:"No fixtures loaded for this Gameweek."})})]}):(()=>{let e=Array.from({length:5},(e,t)=>z+t).filter(e=>e<=38);return(0,l.jsx)("div",{className:"overflow-x-auto bg-slate-800 rounded-lg shadow-lg border border-slate-700 animate-in fade-in zoom-in duration-300 pb-20",children:(0,l.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-slate-900 text-slate-400 text-xs uppercase tracking-wider",children:[(0,l.jsx)("th",{className:"p-4 sticky left-0 bg-slate-900 z-10 border-r border-slate-700 shadow-xl",children:"Team"}),e.map(e=>(0,l.jsxs)("th",{className:"p-2 text-center w-24 border-r border-slate-800",children:["GW ",e]},e))]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-700/50",children:r.map(t=>(0,l.jsxs)("tr",{className:"hover:bg-slate-700/30",children:[(0,l.jsx)("td",{className:"p-3 font-bold text-slate-200 sticky left-0 bg-slate-800 z-10 border-r border-slate-700 shadow-xl text-sm",children:t.name}),e.map(e=>{let s=(j[e]||[]).find(e=>e.team_h===t.id||e.team_a===t.id);if(!s)return(0,l.jsx)("td",{className:"p-2 bg-slate-900/50"},e);let a=s.team_h===t.id,n=a?s.team_a:s.team_h,i=(e=>{var t;return(null==(t=r.find(t=>t.id===e))?void 0:t.short_name)||"UNK"})(n),o=h(n);return(0,l.jsxs)("td",{className:"p-1 border-r border-slate-700/50 relative group",children:[(0,l.jsxs)("div",{className:"w-full h-10 md:h-12 rounded flex flex-col items-center justify-center ".concat(o.bg," ").concat(o.text," shadow-sm cursor-help border-b-2 ").concat(o.border," hover:brightness-110 transition-all"),children:[(0,l.jsxs)("span",{className:"text-xs font-bold",children:[i," (",a?"H":"A",")"]}),(0,l.jsx)("span",{className:"text-[10px] font-mono opacity-80 mt-0.5",children:o.score})]}),(0,l.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 hidden group-hover:block z-50 pointer-events-none",children:(0,l.jsxs)("div",{className:"bg-slate-900 text-white text-xs rounded-lg py-3 px-4 shadow-2xl border border-slate-600 relative",children:[(0,l.jsx)("div",{className:"font-bold border-b border-slate-700 pb-2 mb-2 text-sm",children:m(n)}),(0,l.jsxs)("div",{className:"flex justify-between text-slate-400 mb-1",children:[(0,l.jsx)("span",{children:"Opponent Strength:"}),(0,l.jsxs)("span",{className:"".concat(o.threat>40?"text-red-400":"text-green-400"," font-bold"),children:[o.threat.toFixed(0)," (Form)"]})]}),(0,l.jsxs)("div",{className:"flex justify-between text-slate-400",children:[(0,l.jsx)("span",{children:"FDR Rating:"}),(0,l.jsxs)("span",{className:"text-white font-bold",children:[o.label," (",o.score,"/5)"]})]}),(0,l.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-8 border-transparent border-t-slate-600"})]})})]},e)})]},t.id))})]})})})()]})};var z=s(6191),D=s(5229),E=s(8319),M=s(9865),L=s(9708);let I={1:"GKP",2:"DEF",3:"MID",4:"FWD"},K=e=>{let{allPlayers:t,teams:s,events:r,myTeam:n,setMyTeam:i}=e,[o,d]=(0,a.useState)(null),[x,h]=(0,a.useState)(""),[p,b]=(0,a.useState)(!1),[u,f]=(0,a.useState)("3236951"),[j,g]=(0,a.useState)(!1),[N,v]=(0,a.useState)(null),[w,y]=(0,a.useState)(!1),_=n.reduce((e,t)=>e+t.now_cost/10,0),k=100-_,A=(e,t)=>n.filter(t=>t.element_type===e)[t]||null,S=async()=>{if(!u)return;g(!0),v(null);let e=r.find(e=>e.is_current)||r.find(e=>e.is_next),s=e?e.is_next?Math.max(1,e.id-1):e.id:38;try{let e=await c(parseInt(u),s);if(e&&e.picks){let s=[];e.picks.forEach(e=>{let l=t.find(t=>t.id===e.element);l&&s.push(l)}),i(s),localStorage.setItem("fpl_team_id",u)}else v("Could not find picks for this ID.")}catch(e){console.error(e),v("Failed to fetch team. Check ID or try later.")}finally{g(!1)}},F=(e,t)=>{if(!e)return(0,l.jsxs)("button",{onClick:()=>{d(t),h(""),b(!0)},className:"w-14 h-20 sm:w-20 sm:h-24 md:w-24 md:h-32 bg-slate-800/50 hover:bg-slate-800/80 border-2 border-dashed border-slate-500 rounded flex flex-col items-center justify-center transition-all group",children:[(0,l.jsx)(z.A,{className:"w-6 h-6 md:w-8 md:h-8 text-slate-400 group-hover:text-green-400"}),(0,l.jsx)("span",{className:"text-[10px] md:text-xs font-bold text-slate-400 mt-1",children:I[t]})]});let a=s.find(t=>t.id===e.team);return(0,l.jsxs)("div",{className:"relative w-14 h-24 sm:w-20 sm:h-28 md:w-24 md:h-36 flex flex-col items-center group",children:[(0,l.jsx)("button",{onClick:()=>{var t;return t=e.id,void i(n.filter(e=>e.id!==t))},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity z-10 shadow-lg scale-75 md:scale-100",children:(0,l.jsx)(D.A,{className:"w-4 h-4"})}),(0,l.jsxs)("div",{className:"w-full h-full bg-slate-800 rounded-lg overflow-hidden shadow-lg border border-green-500/30 flex flex-col hover:border-green-400 transition-colors cursor-pointer",children:[(0,l.jsxs)("div",{className:"h-2/3 bg-gradient-to-b from-slate-700 to-slate-800 flex items-end justify-center overflow-hidden relative",children:[(0,l.jsx)("img",{src:m(e.photo),alt:e.web_name,className:"h-full object-cover translate-y-2",onError:e=>{e.target.src="https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_0-66.png"}}),(0,l.jsx)("div",{className:"absolute top-0.5 right-0.5 sm:top-1 sm:right-1 bg-slate-900/80 text-[8px] sm:text-[10px] text-green-400 font-mono px-1 rounded z-10",children:e.total_points})]}),(0,l.jsxs)("div",{className:"h-1/3 bg-slate-900 p-0.5 sm:p-1 text-center flex flex-col justify-center",children:[(0,l.jsx)("div",{className:"text-[9px] sm:text-xs font-bold text-white truncate px-0.5",children:e.web_name}),(0,l.jsxs)("div",{className:"flex justify-between items-center px-0.5 sm:px-1 gap-1",children:[(0,l.jsx)("div",{className:"text-[8px] sm:text-[10px] text-slate-400 uppercase truncate max-w-[50%]",children:null==a?void 0:a.short_name}),(0,l.jsxs)("div",{className:"text-[8px] sm:text-[10px] font-mono text-green-400",children:["\xa3",e.now_cost/10]})]})]})]})]})},T=t.filter(e=>!o||e.element_type===o).filter(e=>!n.find(t=>t.id===e.id)).filter(e=>e.web_name.toLowerCase().includes(x.toLowerCase())||e.second_name.toLowerCase().includes(x.toLowerCase())).sort((e,t)=>t.total_points-e.total_points).slice(0,50);return(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 h-full",children:[(0,l.jsxs)("div",{className:"flex-1 relative",children:[(0,l.jsxs)("div",{className:"bg-slate-800 p-4 rounded-xl shadow-lg border border-slate-700 mb-4 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1 w-full md:w-auto",children:[(0,l.jsxs)("h3",{className:"text-xs font-bold text-slate-400 flex items-center gap-1 uppercase tracking-wider",children:[(0,l.jsx)(E.A,{size:12})," Import Team by ID"]}),(0,l.jsxs)("div",{className:"flex gap-2 w-full",children:[(0,l.jsx)("input",{type:"text",value:u,onChange:e=>f(e.target.value),placeholder:"ID",className:"bg-slate-900 border border-slate-600 rounded px-3 py-1.5 text-white text-sm focus:ring-2 focus:ring-purple-500 outline-none w-32"}),(0,l.jsx)("button",{onClick:S,disabled:j,className:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors disabled:opacity-50",children:j?"...":"Load"})]}),N&&(0,l.jsx)("span",{className:"text-red-400 text-[10px]",children:N})]}),(0,l.jsxs)("button",{onClick:()=>y(!0),className:"flex items-center gap-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white px-4 py-2 rounded-lg font-bold text-sm shadow-md transition-all transform hover:scale-105",children:[(0,l.jsx)(M.A,{size:16}),"Connect FPL Account"]})]}),(0,l.jsxs)("div",{className:"bg-slate-800 p-4 rounded-xl shadow-lg border border-slate-700 mb-4 flex justify-between items-center relative overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-green-500"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xs font-bold text-slate-400 uppercase",children:"Bank"}),(0,l.jsxs)("div",{className:"text-2xl font-mono font-bold ".concat(k<0?"text-red-500":"text-green-400"),children:["\xa3",k.toFixed(1),"m"]})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center hidden sm:flex",children:[(0,l.jsx)("span",{className:"text-xs text-slate-500 uppercase",children:"Team Value"}),(0,l.jsxs)("span",{className:"text-lg font-bold text-white",children:["\xa3",_.toFixed(1),"m"]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase",children:"Selected"}),(0,l.jsxs)("div",{className:"text-xl font-bold ".concat(11===n.length?"text-green-400":"text-white"),children:[n.length," / 11"]})]})]}),(0,l.jsxs)("div",{className:"relative bg-gradient-to-b from-green-800 to-green-700 rounded-xl border-4 border-green-900 shadow-2xl overflow-hidden p-2 md:p-8 min-h-[600px] select-none",children:[(0,l.jsxs)("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[(0,l.jsx)("div",{className:"w-full h-full border-2 border-white m-4 rounded-sm"}),(0,l.jsx)("div",{className:"absolute top-0 left-1/4 right-1/4 h-16 border-2 border-t-0 border-white"}),(0,l.jsx)("div",{className:"absolute bottom-0 left-1/4 right-1/4 h-16 border-2 border-b-0 border-white"}),(0,l.jsx)("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-white"}),(0,l.jsx)("div",{className:"absolute top-1/2 left-1/2 w-32 h-32 -translate-x-1/2 -translate-y-1/2 border-2 border-white rounded-full"})]}),(0,l.jsxs)("div",{className:"relative z-10 flex flex-col h-full justify-between gap-1 py-4",children:[(0,l.jsx)("div",{className:"flex justify-center",children:F(A(1,0),1)}),(0,l.jsx)("div",{className:"flex justify-center gap-1 md:gap-6",children:[0,1,2,3].map(e=>(0,l.jsx)("div",{children:F(A(2,e),2)},"def-".concat(e)))}),(0,l.jsx)("div",{className:"flex justify-center gap-1 md:gap-6",children:[0,1,2,3].map(e=>(0,l.jsx)("div",{children:F(A(3,e),3)},"mid-".concat(e)))}),(0,l.jsx)("div",{className:"flex justify-center gap-1 md:gap-6",children:[0,1].map(e=>(0,l.jsx)("div",{children:F(A(4,e),4)},"fwd-".concat(e)))})]})]})]}),p&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-slate-900 w-full max-w-2xl rounded-xl shadow-2xl border border-slate-700 max-h-[80vh] flex flex-col animate-in fade-in zoom-in duration-200",children:[(0,l.jsxs)("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-800 rounded-t-xl",children:[(0,l.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,l.jsx)(z.A,{className:"text-green-400"}),"Add ",o?I[o]:"Player"]}),(0,l.jsx)("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-white",children:(0,l.jsx)(D.A,{})})]}),(0,l.jsx)("div",{className:"p-4 bg-slate-800",children:(0,l.jsx)("input",{type:"text",placeholder:"Search player name...",className:"w-full bg-slate-900 text-white border border-slate-600 rounded p-3 focus:ring-2 focus:ring-green-500 outline-none",value:x,onChange:e=>h(e.target.value),autoFocus:!0})}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:T.map(e=>{var t;return(0,l.jsxs)("div",{onClick:()=>(e=>{if(!n.find(t=>t.id===e.id)){if(n.filter(t=>t.team===e.team).length>=3)return void alert("Max 3 players from same team!");i([...n,e]),b(!1)}})(e),className:"flex items-center justify-between bg-slate-800 p-3 rounded hover:bg-slate-700 cursor-pointer transition-colors border border-transparent hover:border-green-500 group",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-slate-700 rounded-full overflow-hidden border border-slate-600",children:(0,l.jsx)("img",{src:m(e.photo),alt:"",className:"w-full h-full object-cover"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-bold text-white group-hover:text-green-400 transition-colors",children:e.web_name}),(0,l.jsxs)("div",{className:"text-xs text-slate-400",children:[null==(t=s.find(t=>t.id===e.team))?void 0:t.name," • ",e.form," Form"]})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("div",{className:"font-bold text-white",children:["\xa3",e.now_cost/10]}),(0,l.jsxs)("div",{className:"text-xs text-green-400 font-bold",children:[e.total_points," pts"]})]})]},e.id)})})]})}),w&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-slate-900 w-full max-w-md rounded-xl shadow-2xl border border-purple-500/50 p-6 animate-in fade-in zoom-in duration-200",children:[(0,l.jsx)("div",{className:"flex justify-center mb-4 text-purple-400",children:(0,l.jsx)(L.A,{size:48})}),(0,l.jsx)("h2",{className:"text-xl font-bold text-white text-center mb-2",children:"Direct Login Not Supported"}),(0,l.jsx)("p",{className:"text-slate-300 text-sm text-center mb-6 leading-relaxed",children:"Due to strict security protocols (CORS) and to protect your account credentials, web applications cannot log directly into the Official FPL API without a dedicated backend server."}),(0,l.jsxs)("div",{className:"bg-slate-800 p-4 rounded-lg border border-slate-700 mb-6",children:[(0,l.jsxs)("h3",{className:"text-sm font-bold text-green-400 mb-2 flex items-center gap-2",children:[(0,l.jsx)(E.A,{size:16})," Alternative: Transfer Planner"]}),(0,l.jsxs)("p",{className:"text-xs text-slate-400",children:["We have enabled ",(0,l.jsx)("strong",{children:"Planner Mode"})," for you. 1. ",(0,l.jsx)("strong",{children:"Import"})," your team using your ID. 2. ",(0,l.jsx)("strong",{children:"Remove"})," players to free up funds. 3. ",(0,l.jsx)("strong",{children:"Add"})," new players to check budget fit.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("em",{children:"Note: Changes made here are simulated and will not save to the official game."})]})]}),(0,l.jsx)("button",{onClick:()=>y(!1),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 rounded-lg transition-colors",children:"Understood, Use Planner Mode"})]})})]})};var G=s(6265),O=s(8128),R=s(8425),W=s(7734),H=s(3697),B=s(232),U=s(5990),X=s(3341),V=s(1761),J=s(508),Y=s(6651),Q=s(6955);let Z={1:"GKP",2:"DEF",3:"MID",4:"FWD"},q=e=>{let{players:t,teams:s}=e,[r,n]=(0,a.useState)(""),[i,o]=(0,a.useState)("all"),[d,c]=(0,a.useState)("all"),[x,m]=(0,a.useState)({key:"total_points",direction:"desc"}),h=(0,a.useMemo)(()=>[...t].sort((e,t)=>t.total_points-e.total_points).slice(0,10).map(e=>{var t;return{name:e.web_name,points:e.total_points,cost:e.now_cost/10,team:null==(t=s.find(t=>t.id===e.team))?void 0:t.short_name}}),[t,s]),b=(0,a.useMemo)(()=>[...t].filter(e=>e.total_points>30).map(e=>({...e,valueRatio:e.total_points/(e.now_cost/10)})).sort((e,t)=>t.valueRatio-e.valueRatio).slice(0,8),[t]),u=(0,a.useMemo)(()=>{let e=t;if(r){let t=r.toLowerCase();e=e.filter(e=>e.web_name.toLowerCase().includes(t)||e.second_name.toLowerCase().includes(t))}return"all"!==i&&(e=e.filter(e=>e.team===i)),"all"!==d&&(e=e.filter(e=>e.element_type===d)),(e=[...e].sort((e,t)=>{let s=e[x.key],l=t[x.key];return(("form"===x.key||"ict_index"===x.key||"points_per_game"===x.key)&&(s=parseFloat(s),l=parseFloat(l)),"value_season"===x.key&&(s=e.total_points/(e.now_cost/10),l=t.total_points/(t.now_cost/10)),s<l)?"asc"===x.direction?-1:1:s>l?"asc"===x.direction?1:-1:0})).slice(0,50)},[t,r,i,d,x]),f=e=>{m(t=>({key:e,direction:t.key===e&&"desc"===t.direction?"asc":"desc"}))},j=e=>{let{colKey:t}=e;return x.key!==t?(0,l.jsx)(X.A,{size:14,className:"text-slate-600"}):"asc"===x.direction?(0,l.jsx)(A.A,{size:14,className:"text-green-400"}):(0,l.jsx)(S.A,{size:14,className:"text-green-400"})};return(0,l.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-500",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-lg",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,l.jsx)(p.A,{className:"text-green-400"})," Top 10 Scorers"]}),(0,l.jsx)("div",{className:"h-[300px] w-full",children:(0,l.jsx)(G.u,{width:"100%",height:"100%",children:(0,l.jsxs)(O.E,{data:h,layout:"vertical",margin:{left:40,right:20},children:[(0,l.jsx)(R.d,{strokeDasharray:"3 3",stroke:"#334155",horizontal:!1}),(0,l.jsx)(W.W,{type:"number",stroke:"#94a3b8"}),(0,l.jsx)(H.h,{dataKey:"name",type:"category",stroke:"#f8fafc",width:80,tick:{fontSize:11}}),(0,l.jsx)(B.m,{content:(0,l.jsx)(e=>{let{active:t,payload:s}=e;if(t&&s&&s.length){let e=s[0].payload;return(0,l.jsxs)("div",{className:"bg-slate-900 p-3 border border-slate-700 rounded shadow-xl",children:[(0,l.jsx)("p",{className:"text-white font-bold",children:e.name}),(0,l.jsx)("p",{className:"text-slate-400 text-sm",children:e.team}),(0,l.jsxs)("p",{className:"text-green-400 text-sm mt-1",children:["Points: ",e.y||e.points]}),(0,l.jsxs)("p",{className:"text-blue-400 text-sm",children:["Price: \xa3",e.x||e.cost]})]})}return null},{}),cursor:{fill:"#334155",opacity:.4}}),(0,l.jsx)(U.yP,{dataKey:"points",fill:"#00ff85",radius:[0,4,4,0],barSize:20})]})})})]}),(0,l.jsxs)("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-lg flex flex-col",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[(0,l.jsx)(V.A,{className:"text-blue-400"})," Best Value (ROI)"]}),(0,l.jsx)("p",{className:"text-slate-400 text-xs mb-4",children:"Top return on investment (Points per \xa3 Million cost)."}),(0,l.jsx)("div",{className:"flex-1 space-y-3 overflow-y-auto pr-2 custom-scrollbar",children:b.map((e,t)=>{var a;return(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between z-10 relative",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("div",{className:"text-xl font-bold text-slate-600 w-6 text-center",children:["#",t+1]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-bold text-white",children:e.web_name}),(0,l.jsxs)("div",{className:"text-xs text-slate-400",children:[null==(a=s.find(t=>t.id===e.team))?void 0:a.short_name," • \xa3",e.now_cost/10,"m"]})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-blue-400 font-bold text-lg",children:e.valueRatio.toFixed(1)}),(0,l.jsx)("div",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Pts/\xa3M"})]})]}),(0,l.jsx)("div",{className:"absolute bottom-0 left-0 h-1 bg-slate-700 w-full rounded-full mt-1 overflow-hidden",children:(0,l.jsx)("div",{className:"h-full bg-blue-500",style:{width:"".concat(e.valueRatio/b[0].valueRatio*100,"%")}})})]},e.id)})})]})]}),(0,l.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 shadow-lg overflow-hidden",children:[(0,l.jsxs)("div",{className:"p-6 border-b border-slate-700",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,l.jsx)(J.A,{className:"text-purple-400"}),"Player Statistics"]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,l.jsxs)("div",{className:"relative flex-1",children:[(0,l.jsx)(Y.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),(0,l.jsx)("input",{type:"text",placeholder:"Search player name...",value:r,onChange:e=>n(e.target.value),className:"w-full bg-slate-900 border border-slate-600 text-white rounded-lg pl-10 pr-4 py-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(Q.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),(0,l.jsxs)("select",{value:i,onChange:e=>o("all"===e.target.value?"all":Number(e.target.value)),className:"bg-slate-900 border border-slate-600 text-white rounded-lg pl-10 pr-8 py-2 appearance-none focus:ring-2 focus:ring-purple-500 outline-none cursor-pointer",children:[(0,l.jsx)("option",{value:"all",children:"All Teams"}),s.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("select",{value:d,onChange:e=>c("all"===e.target.value?"all":Number(e.target.value)),className:"bg-slate-900 border border-slate-600 text-white rounded-lg px-4 py-2 appearance-none focus:ring-2 focus:ring-purple-500 outline-none cursor-pointer",children:[(0,l.jsx)("option",{value:"all",children:"All Positions"}),(0,l.jsx)("option",{value:1,children:"Goalkeepers"}),(0,l.jsx)("option",{value:2,children:"Defenders"}),(0,l.jsx)("option",{value:3,children:"Midfielders"}),(0,l.jsx)("option",{value:4,children:"Forwards"})]})]})]})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-slate-900/50 text-slate-400 text-sm uppercase tracking-wider",children:[(0,l.jsx)("th",{className:"p-4 font-semibold",children:"Player"}),(0,l.jsx)("th",{className:"p-4 font-semibold",children:"Team"}),(0,l.jsx)("th",{className:"p-4 font-semibold text-center",children:"Pos"}),(0,l.jsx)("th",{className:"p-4 font-semibold cursor-pointer hover:text-white transition-colors text-right",onClick:()=>f("now_cost"),children:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["Cost ",(0,l.jsx)(j,{colKey:"now_cost"})]})}),(0,l.jsx)("th",{className:"p-4 font-semibold cursor-pointer hover:text-white transition-colors text-right",onClick:()=>f("total_points"),children:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["Points ",(0,l.jsx)(j,{colKey:"total_points"})]})}),(0,l.jsx)("th",{className:"p-4 font-semibold cursor-pointer hover:text-white transition-colors text-right",onClick:()=>f("form"),children:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["Form ",(0,l.jsx)(j,{colKey:"form"})]})}),(0,l.jsx)("th",{className:"p-4 font-semibold cursor-pointer hover:text-white transition-colors text-right hidden md:table-cell",onClick:()=>f("ict_index"),children:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-1",children:["ICT Index ",(0,l.jsx)(j,{colKey:"ict_index"})]})})]})}),(0,l.jsxs)("tbody",{className:"divide-y divide-slate-700",children:[u.map(e=>{var t;return(0,l.jsxs)("tr",{className:"hover:bg-slate-700/50 transition-colors group",children:[(0,l.jsxs)("td",{className:"p-4 font-medium text-white flex flex-col",children:[(0,l.jsx)("span",{children:e.web_name}),(0,l.jsxs)("span",{className:"text-xs text-slate-500 font-normal md:hidden",children:[e.first_name," ",e.second_name]})]}),(0,l.jsx)("td",{className:"p-4 text-slate-300",children:null==(t=s.find(t=>t.id===e.team))?void 0:t.name}),(0,l.jsx)("td",{className:"p-4 text-center",children:(0,l.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold border ".concat((e=>{switch(e){case 1:return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case 2:return"bg-blue-500/20 text-blue-400 border-blue-500/30";case 3:return"bg-green-500/20 text-green-400 border-green-500/30";case 4:return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-700 text-white"}})(e.element_type)),children:Z[e.element_type]})}),(0,l.jsxs)("td",{className:"p-4 text-right font-mono text-blue-300",children:["\xa3",e.now_cost/10]}),(0,l.jsx)("td",{className:"p-4 text-right font-bold text-green-400",children:e.total_points}),(0,l.jsx)("td",{className:"p-4 text-right font-mono text-slate-300",children:e.form}),(0,l.jsx)("td",{className:"p-4 text-right font-mono text-slate-400 hidden md:table-cell",children:e.ict_index})]},e.id)}),0===u.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:7,className:"p-8 text-center text-slate-500",children:"No players found matching your filters."})})]})]})}),(0,l.jsxs)("div",{className:"p-3 bg-slate-900/30 text-center text-xs text-slate-500",children:["Showing top ",Math.min(u.length,50)," results"]})]})]})};var $=s(8854),ee=s(3327);let et={1:"GKP",2:"DEF",3:"MID",4:"FWD"},es=e=>{let{players:t,teams:s}=e,[r,n]=(0,a.useState)(""),[i,o]=(0,a.useState)("all"),[d,c]=(0,a.useState)("all"),[x,m]=(0,a.useState)({key:"sel_num",direction:"desc"}),h=(0,a.useMemo)(()=>t.map(e=>{var t,l;return{...e,id:e.id,name:e.web_name,full_name:"".concat(e.first_name," ").concat(e.second_name),cost_num:e.now_cost/10,sel_num:parseFloat(e.selected_by_percent),form_num:parseFloat(e.form),team_name:(null==(t=s.find(t=>t.id===e.team))?void 0:t.name)||"Unknown",short_team:(null==(l=s.find(t=>t.id===e.team))?void 0:l.short_name)||"UNK",position_name:et[e.element_type],points_num:e.total_points}}),[t,s]),p=(0,a.useMemo)(()=>{let e=h;if(r){let t=r.toLowerCase();e=e.filter(e=>e.full_name.toLowerCase().includes(t)||e.web_name.toLowerCase().includes(t))}return"all"!==i&&(e=e.filter(e=>e.team===i)),"all"!==d&&(e=e.filter(e=>e.element_type===d)),[...e].sort((e,t)=>{let s=e[x.key],l=t[x.key];return s<l?"asc"===x.direction?-1:1:s>l?"asc"===x.direction?1:-1:0})},[h,r,i,d,x]),b=e=>{m(t=>({key:e,direction:t.key===e&&"desc"===t.direction?"asc":"desc"}))},u=e=>{let{colKey:t}=e;return x.key!==t?(0,l.jsx)(X.A,{size:14,className:"text-slate-600 inline ml-1"}):"asc"===x.direction?(0,l.jsx)(A.A,{size:14,className:"text-green-400 inline ml-1"}):(0,l.jsx)(S.A,{size:14,className:"text-green-400 inline ml-1"})};return(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsxs)("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-lg",children:[(0,l.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4 mb-6 border-b border-slate-700 pb-6",children:(0,l.jsxs)("div",{className:"max-w-3xl",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 mb-3",children:[(0,l.jsx)($.A,{className:"text-yellow-400"}),"Elite Ownership Template"]}),(0,l.jsxs)("div",{className:"bg-blue-900/20 border border-blue-500/20 p-4 rounded-lg flex gap-3",children:[(0,l.jsx)(ee.A,{className:"text-blue-400 shrink-0 mt-1",size:20}),(0,l.jsxs)("div",{className:"text-sm text-slate-300 leading-relaxed",children:[(0,l.jsx)("p",{className:"mb-2",children:(0,l.jsx)("strong",{children:"What is the Top 100 Manager Template?"})}),(0,l.jsxs)("p",{children:["Due to FPL privacy settings, real-time scraping of individual Top 100 teams is restricted. However, this leaderboard displays the ",(0,l.jsx)("strong",{children:'"Template"'}),"—the players with the highest Effective Ownership (EO) across the game. High-ranking managers almost always converge on these core assets. If a player is here, they are likely in the teams of the world's best."]})]})]})]})}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"relative flex-1",children:[(0,l.jsx)(Y.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),(0,l.jsx)("input",{type:"text",placeholder:"Search player name...",value:r,onChange:e=>n(e.target.value),className:"w-full bg-slate-900 border border-slate-600 rounded-lg pl-9 pr-3 py-2 text-white focus:ring-2 focus:ring-purple-500 outline-none"})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)("select",{value:i,onChange:e=>o("all"===e.target.value?"all":Number(e.target.value)),className:"bg-slate-900 border border-slate-600 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500",children:[(0,l.jsx)("option",{value:"all",children:"All Teams"}),s.map(e=>(0,l.jsx)("option",{value:e.id,children:e.short_name},e.id))]}),(0,l.jsxs)("select",{value:d,onChange:e=>c("all"===e.target.value?"all":Number(e.target.value)),className:"bg-slate-900 border border-slate-600 rounded-lg px-3 py-2 text-white outline-none focus:ring-2 focus:ring-purple-500",children:[(0,l.jsx)("option",{value:"all",children:"All Pos"}),(0,l.jsx)("option",{value:1,children:"GKP"}),(0,l.jsx)("option",{value:2,children:"DEF"}),(0,l.jsx)("option",{value:3,children:"MID"}),(0,l.jsx)("option",{value:4,children:"FWD"})]})]})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"border-b border-slate-700 text-slate-400 text-xs uppercase tracking-wider",children:[(0,l.jsxs)("th",{className:"p-4 font-semibold cursor-pointer",onClick:()=>b("sel_num"),children:["Rank ",(0,l.jsx)(u,{colKey:"sel_num"})]}),(0,l.jsx)("th",{className:"p-4 font-semibold",children:"Player"}),(0,l.jsx)("th",{className:"p-4 font-semibold text-center",children:"Pos"}),(0,l.jsxs)("th",{className:"p-4 font-semibold text-right cursor-pointer",onClick:()=>b("cost_num"),children:["Cost ",(0,l.jsx)(u,{colKey:"cost_num"})]}),(0,l.jsxs)("th",{className:"p-4 font-semibold text-right cursor-pointer",onClick:()=>b("points_num"),children:["Points ",(0,l.jsx)(u,{colKey:"points_num"})]}),(0,l.jsxs)("th",{className:"p-4 font-semibold w-1/4 cursor-pointer",onClick:()=>b("sel_num"),children:["Ownership ",(0,l.jsx)(u,{colKey:"sel_num"})]})]})}),(0,l.jsxs)("tbody",{className:"divide-y divide-slate-700/50",children:[p.map((e,t)=>(0,l.jsxs)("tr",{className:"hover:bg-slate-700/40 transition-colors group",children:[(0,l.jsxs)("td",{className:"p-4 font-mono text-slate-500",children:["#",t+1]}),(0,l.jsx)("td",{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"font-bold text-white text-base",children:e.web_name}),(0,l.jsx)("span",{className:"text-xs text-slate-500 px-2 py-0.5 rounded bg-slate-800 border border-slate-600",children:e.short_team})]})}),(0,l.jsx)("td",{className:"p-4 text-center",children:(0,l.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold border ".concat((e=>{switch(e){case 1:return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case 2:return"bg-blue-500/20 text-blue-400 border-blue-500/30";case 3:return"bg-green-500/20 text-green-400 border-green-500/30";case 4:return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-700 text-white"}})(e.element_type)),children:e.position_name})}),(0,l.jsxs)("td",{className:"p-4 text-right font-mono text-blue-300",children:["\xa3",e.cost_num.toFixed(1)]}),(0,l.jsx)("td",{className:"p-4 text-right",children:(0,l.jsx)("span",{className:"font-bold text-green-400 text-lg",children:e.points_num})}),(0,l.jsx)("td",{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("span",{className:"text-xs font-mono w-10 text-right",children:[e.sel_num,"%"]}),(0,l.jsx)("div",{className:"flex-1 h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 to-blue-500",style:{width:"".concat(Math.min(e.sel_num,100),"%")}})})]})})]},e.id)),0===p.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:6,className:"p-8 text-center text-slate-500",children:"No players found."})})]})]})}),(0,l.jsxs)("div",{className:"mt-4 text-center text-xs text-slate-500",children:["Showing ",p.length," players based on current filtering criteria."]})]})})};var el=s(7125),ea=s(5917);let er=e=>{let{teams:t,fixtures:s}=e,[r,n]=(0,a.useState)(null),i=(0,a.useMemo)(()=>{let e={};return t.forEach(t=>{e[t.id]={id:t.id,played:0,win:0,draw:0,loss:0,gf:0,ga:0,pts:0,form:[]}}),s.filter(e=>e.finished).sort((e,t)=>new Date(e.kickoff_time).getTime()-new Date(t.kickoff_time).getTime()).forEach(t=>{var s,l;let a=e[t.team_h],r=e[t.team_a];if(!a||!r)return;let n=null!=(s=t.team_h_score)?s:0,i=null!=(l=t.team_a_score)?l:0;a.played++,r.played++,a.gf+=n,a.ga+=i,r.gf+=i,r.ga+=n,n>i?(a.win++,a.pts+=3,r.loss++,a.form.push({result:"W",opponent:t.team_a,score:"".concat(n,"-").concat(i),date:t.kickoff_time}),r.form.push({result:"L",opponent:t.team_h,score:"".concat(i,"-").concat(n),date:t.kickoff_time})):n<i?(r.win++,r.pts+=3,a.loss++,r.form.push({result:"W",opponent:t.team_h,score:"".concat(i,"-").concat(n),date:t.kickoff_time}),a.form.push({result:"L",opponent:t.team_a,score:"".concat(n,"-").concat(i),date:t.kickoff_time})):(a.draw++,a.pts+=1,r.draw++,r.pts+=1,a.form.push({result:"D",opponent:t.team_a,score:"".concat(n,"-").concat(i),date:t.kickoff_time}),r.form.push({result:"D",opponent:t.team_h,score:"".concat(i,"-").concat(n),date:t.kickoff_time}))}),Object.values(e).sort((e,t)=>{if(t.pts!==e.pts)return t.pts-e.pts;let s=e.gf-e.ga,l=t.gf-t.ga;return l!==s?l-s:t.gf-e.gf})},[t,s]),o=e=>t.find(t=>t.id===e);return(0,l.jsx)("div",{className:"space-y-6 animate-in fade-in duration-500",children:(0,l.jsxs)("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 shadow-lg",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2 px-2",children:[(0,l.jsx)(w.A,{className:"text-yellow-400 w-5 h-5"})," Premier League Table"]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-slate-900/50 text-slate-400 text-[10px] md:text-xs uppercase tracking-wider border-b border-slate-700",children:[(0,l.jsx)("th",{className:"px-3 py-2 w-8 text-center",children:"#"}),(0,l.jsx)("th",{className:"px-3 py-2 w-32 md:w-40",children:"Team"}),(0,l.jsx)("th",{className:"px-3 py-2 text-center w-8",children:"MP"}),(0,l.jsx)("th",{className:"px-3 py-2 text-center w-8 text-green-400",children:"W"}),(0,l.jsx)("th",{className:"px-3 py-2 text-center w-8 text-slate-400",children:"D"}),(0,l.jsx)("th",{className:"px-3 py-2 text-center w-8 text-red-400",children:"L"}),(0,l.jsx)("th",{className:"px-3 py-2 text-center w-12",children:"GD"}),(0,l.jsx)("th",{className:"px-3 py-2 text-center w-12 font-bold text-white",children:"Pts"}),(0,l.jsx)("th",{className:"px-3 py-2 w-40 text-center",children:"Form"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-700/50 text-sm",children:i.map((e,t)=>{let s=o(e.id),a=e.form.slice(-5),i=(null==r?void 0:r.source)===e.id,d=(null==r?void 0:r.target)===e.id,c=i||d;return(0,l.jsxs)("tr",{className:"transition-all duration-200 ".concat(c?"bg-purple-900/40 border-l-2 border-l-purple-400":"hover:bg-slate-700/30 border-l-2 border-l-transparent"),children:[(0,l.jsx)("td",{className:"px-3 py-2 text-center font-mono text-slate-500 border-r border-slate-700/50 text-xs",children:t+1}),(0,l.jsxs)("td",{className:"px-3 py-2 font-bold text-white flex items-center gap-2 overflow-hidden",children:[(0,l.jsx)("span",{className:"truncate",children:null==s?void 0:s.name}),i&&(0,l.jsx)("span",{className:"text-[10px] text-purple-300 font-normal px-1.5 py-0.5 bg-purple-900/50 rounded-full hidden md:inline",children:"Current"}),d&&(0,l.jsx)("span",{className:"text-[10px] text-purple-300 animate-pulse font-normal px-1.5 py-0.5 bg-purple-900/50 rounded-full hidden md:inline",children:"Opponent"})]}),(0,l.jsx)("td",{className:"px-3 py-2 text-center text-slate-300",children:e.played}),(0,l.jsx)("td",{className:"px-3 py-2 text-center text-slate-300",children:e.win}),(0,l.jsx)("td",{className:"px-3 py-2 text-center text-slate-300",children:e.draw}),(0,l.jsx)("td",{className:"px-3 py-2 text-center text-slate-300",children:e.loss}),(0,l.jsx)("td",{className:"px-3 py-2 text-center text-slate-300 font-mono",children:e.gf-e.ga>0?"+".concat(e.gf-e.ga):e.gf-e.ga}),(0,l.jsx)("td",{className:"px-3 py-2 text-center font-bold text-white bg-slate-700/20 rounded",children:e.pts}),(0,l.jsx)("td",{className:"px-3 py-2",children:(0,l.jsx)("div",{className:"flex items-center justify-center gap-1",children:a.map((t,s)=>{var a;let r="bg-slate-600 border-slate-500",i=el.A;return"W"===t.result&&(r="bg-green-500 border-green-400",i=ea.A),"L"===t.result&&(r="bg-red-500 border-red-400",i=D.A),(0,l.jsxs)("div",{className:"relative group/tooltip",onMouseEnter:()=>n({source:e.id,target:t.opponent}),onMouseLeave:()=>n(null),children:[(0,l.jsx)("div",{className:"w-6 h-6 rounded-sm flex items-center justify-center text-white text-[10px] font-bold ".concat(r," border shadow-sm cursor-help hover:brightness-110 hover:scale-110 transition-transform"),children:(0,l.jsx)(i,{size:12,strokeWidth:4})}),(0,l.jsx)("div",{className:"absolute bottom-full right-0 mb-2 hidden group-hover/tooltip:block z-50 whitespace-nowrap pointer-events-none",children:(0,l.jsxs)("div",{className:"bg-slate-900 text-white text-xs px-2 py-1.5 rounded border border-slate-600 shadow-xl flex flex-col items-center",children:[(0,l.jsxs)("span",{className:"font-bold text-slate-300 mb-0.5",children:["vs ",null==(a=o(t.opponent))?void 0:a.name]}),(0,l.jsxs)("span",{className:"font-mono font-bold ".concat("W"===t.result?"text-green-400":"L"===t.result?"text-red-400":"text-slate-400"),children:["Result: ",t.score]})]})})]},s)})})})]},e.id)})})]})}),(0,l.jsxs)("div",{className:"mt-2 flex gap-4 text-[10px] text-slate-400 justify-end px-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-sm"})," Win"]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"w-2.5 h-2.5 bg-slate-600 rounded-sm"})," Draw"]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"w-2.5 h-2.5 bg-red-500 rounded-sm"})," Loss"]})]})]})})};var en=s(7965),ei=s(647);let eo=e=>{let{players:t,teams:s,fixtures:r,events:n}=e,[i,o]=(0,a.useState)(1),[d,c]=(0,a.useState)(!1),[x,m]=(0,a.useState)({key:"transferIndex",direction:"desc"}),h=e=>{var t;return(null==(t=s.find(t=>t.id===e))?void 0:t.short_name)||"-"},b=(0,a.useMemo)(()=>{let e={};return s.forEach(s=>{let l=t.filter(e=>e.team===s.id).sort((e,t)=>parseFloat(t.form)-parseFloat(e.form)).slice(0,12).reduce((e,t)=>e+parseFloat(t.form),0);e[s.id]=l}),e},[t,s]),u=e=>e>55?5:e>45?4:e>35?3:e>25?2:1,f=e=>{switch(e){case 1:return"bg-green-600 text-white border-green-700";case 2:return"bg-green-500 text-white border-green-600";case 3:return"bg-slate-500 text-white border-slate-600";case 4:return"bg-orange-500 text-white border-orange-600";case 5:return"bg-red-600 text-white border-red-700";default:return"bg-slate-800"}},j=(0,a.useMemo)(()=>{let e=(n.find(e=>e.is_next)||n[0]).id,s=Math.min(38,e+4),l={};return r.filter(t=>!t.finished&&t.event>=e&&t.event<=s).forEach(e=>{l["".concat(e.team_h,"-").concat(e.event)]={opponent:e.team_a,isHome:!0},l["".concat(e.team_a,"-").concat(e.event)]={opponent:e.team_h,isHome:!1}}),t.filter(e=>e.total_points>10).map(t=>{let a=[],r=0;for(let n=e;n<=s;n++){let e=l["".concat(t.team,"-").concat(n)];if(e){let t=u(b[e.opponent]||0);r+=t,a.push({event:n,opponent:e.opponent,difficulty:t,isHome:e.isHome})}else r+=6,a.push({event:n,opponent:0,difficulty:0,isHome:!1})}let n=parseFloat(t.form),i=Math.min(n/10,1),o=Math.max(0,Math.min(1,(25-r)/20)),d=parseFloat(t.selected_by_percent),c=t.total_points>0?d/t.total_points:0;return{...t,transferIndex:.5*i+.5*o,fixtureDifficultySum:r,nextFixtures:a,eoFormRatio:n>0?d/n:0,eoPtsRatio:c}})},[t,r,n,b]),g=(0,a.useMemo)(()=>[...j].sort((e,t)=>parseFloat(t.form)-parseFloat(e.form)),[j]),N=(0,a.useMemo)(()=>j.filter(e=>e.element_type===i).sort((e,t)=>{let s=e[x.key],l=t[x.key];if(("form"===x.key||"selected_by_percent"===x.key)&&(s=parseFloat(s),l=parseFloat(l)),"now_cost"===x.key&&(s=e.now_cost,l=t.now_cost),x.key.startsWith("GW")){var a,r;let n=parseInt(x.key.replace("GW",""));s=(null==(a=e.nextFixtures.find(e=>e.event===n))?void 0:a.difficulty)||6,l=(null==(r=t.nextFixtures.find(e=>e.event===n))?void 0:r.difficulty)||6}return s<l?"asc"===x.direction?-1:1:s>l?"asc"===x.direction?1:-1:0}).slice(0,25),[j,i,x]),w=n.find(e=>e.is_next)||n[0],y=Array.from({length:5},(e,t)=>w.id+t).filter(e=>e<=38),_=e=>{let{label:t,sortKey:s,align:a="left",className:r=""}=e,n=x.key===s;return(0,l.jsx)("th",{className:"p-4 cursor-pointer hover:text-white transition-colors group select-none ".concat(r," text-").concat(a),onClick:()=>(e=>{m(t=>({key:e,direction:t.key===e&&"desc"===t.direction?"asc":"desc"}))})(s),children:(0,l.jsxs)("div",{className:"flex items-center gap-1 ".concat("right"===a?"justify-end":"center"===a?"justify-center":"justify-start"),children:[t,n?"asc"===x.direction?(0,l.jsx)(A.A,{size:14,className:"text-blue-400"}):(0,l.jsx)(S.A,{size:14,className:"text-blue-400"}):(0,l.jsx)(X.A,{size:14,className:"text-slate-600 opacity-0 group-hover:opacity-100 transition-opacity"})]})})};return(0,l.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,l.jsxs)("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-lg",children:[(0,l.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4 mb-2",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[(0,l.jsx)(en.A,{className:"text-blue-400"})," Transfer Algorithm Picks"]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer group select-none",onClick:()=>c(!d),children:[(0,l.jsxs)("p",{className:"text-slate-400 text-sm",children:["Calculated using weighted ",(0,l.jsx)("strong",{children:"Form (50%)"})," and ",(0,l.jsx)("strong",{children:"FDR (50%)"}),"."]}),d?(0,l.jsx)(A.A,{size:16,className:"text-blue-400"}):(0,l.jsx)(S.A,{size:16,className:"text-blue-400"})]})]})}),d&&(0,l.jsx)("div",{className:"mt-4 p-4 bg-slate-900/50 border border-blue-500/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm text-slate-300",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"font-bold text-white mb-2 flex items-center gap-2",children:[(0,l.jsx)(ei.A,{size:14,className:"text-blue-400"})," The Algorithm"]}),(0,l.jsxs)("p",{className:"text-xs mb-2 leading-relaxed",children:["We calculate a ",(0,l.jsx)("strong",{children:"Transfer Index (0.00 - 1.00)"}),' to find players in the "Goldilocks Zone" of high performance and easy upcoming games.']}),(0,l.jsxs)("div",{className:"flex gap-2 text-[10px] font-mono mt-2",children:[(0,l.jsx)("span",{className:"bg-slate-800 px-2 py-1 rounded border border-slate-600",children:"50% Current Form"}),(0,l.jsx)("span",{className:"text-slate-500",children:"+"}),(0,l.jsx)("span",{className:"bg-slate-800 px-2 py-1 rounded border border-slate-600",children:"50% Fixture Ease"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"font-bold text-white mb-2 flex items-center gap-2",children:[(0,l.jsx)(v.A,{size:14,className:"text-green-400"})," Key Metrics"]}),(0,l.jsxs)("ul",{className:"space-y-1.5 text-xs",children:[(0,l.jsxs)("li",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:(0,l.jsx)("strong",{children:"Form:"})}),(0,l.jsx)("span",{className:"text-slate-400",children:"Avg points per match (last 30 days)."})]}),(0,l.jsxs)("li",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:(0,l.jsx)("strong",{children:"Diff Score:"})}),(0,l.jsx)("span",{className:"text-slate-400",children:"Sum of difficulty for next 5 games."})]}),(0,l.jsxs)("li",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:(0,l.jsx)("strong",{children:"Goal:"})}),(0,l.jsx)("span",{className:"text-slate-400",children:"Lower Diff Score is better."})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"font-bold text-white mb-2 flex items-center gap-2",children:[(0,l.jsx)(C.A,{size:14,className:"text-orange-400"})," Fixture Difficulty"]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-[10px] font-bold text-white text-center",children:[(0,l.jsx)("div",{className:"bg-green-600 rounded py-1 border border-green-700",children:"Easy (1)"}),(0,l.jsx)("div",{className:"bg-green-500 rounded py-1 border border-green-600",children:"Good (2)"}),(0,l.jsx)("div",{className:"bg-slate-500 rounded py-1 border border-slate-600",children:"Moderate (3)"}),(0,l.jsx)("div",{className:"bg-orange-500 rounded py-1 border border-orange-600",children:"Hard (4)"}),(0,l.jsx)("div",{className:"bg-red-600 rounded py-1 border border-red-700 col-span-2",children:"Very Hard (5)"})]})]})]})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{className:"text-sm font-bold text-slate-400 mb-3 flex items-center gap-2 px-1",children:[(0,l.jsx)(p.A,{size:16,className:"text-green-400"})," Top In-Form Players"]}),(0,l.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-4 custom-scrollbar snap-x",children:g.map(e=>(0,l.jsxs)("div",{className:"min-w-[220px] snap-start bg-slate-800 p-3 rounded-xl border border-slate-700 shadow-lg flex flex-col gap-2 relative group hover:border-green-500/50 transition-colors",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-bold text-white text-sm truncate w-32",children:e.web_name}),(0,l.jsxs)("div",{className:"text-[10px] text-slate-500",children:[h(e.team)," • \xa3",e.now_cost/10]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-green-400 leading-none",children:e.form}),(0,l.jsx)("div",{className:"text-[8px] text-slate-500 uppercase",children:"Form"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 my-1",children:[(0,l.jsxs)("div",{className:"bg-slate-900 p-1.5 rounded border border-slate-700",children:[(0,l.jsx)("div",{className:"text-[9px] text-slate-500",children:"EO/Form"}),(0,l.jsx)("div",{className:"text-xs font-mono text-blue-300",children:e.eoFormRatio.toFixed(1)})]}),(0,l.jsxs)("div",{className:"bg-slate-900 p-1.5 rounded border border-slate-700",children:[(0,l.jsx)("div",{className:"text-[9px] text-slate-500",children:"EO/Pts"}),(0,l.jsx)("div",{className:"text-xs font-mono text-blue-300",children:e.eoPtsRatio.toFixed(2)})]})]}),(0,l.jsxs)("div",{className:"mt-auto",children:[(0,l.jsx)("div",{className:"text-[9px] text-slate-500 mb-1",children:"Next 3 Fixtures:"}),(0,l.jsx)("div",{className:"flex gap-1 h-1.5 w-full",children:e.nextFixtures.slice(0,3).map((e,t)=>(0,l.jsx)("div",{className:"flex-1 rounded-full ".concat(f(e.difficulty)),title:"GW".concat(e.event,": vs ").concat(h(e.opponent))},t))})]})]},e.id))})]}),(0,l.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[1,2,3,4].map(e=>(0,l.jsxs)("button",{onClick:()=>o(e),className:"px-6 py-3 rounded-lg font-bold text-sm flex items-center gap-2 transition-all ".concat(i===e?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white"),children:[1===e&&"Goalkeepers",2===e&&"Defenders",3===e&&"Midfielders",4===e&&"Forwards"]},e))}),(0,l.jsx)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 shadow-lg overflow-hidden",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-slate-900/50 text-slate-400 text-xs uppercase tracking-wider border-b border-slate-700",children:[(0,l.jsx)("th",{className:"p-4 w-12 text-center",children:"#"}),(0,l.jsx)(_,{label:"Player",sortKey:"web_name",className:"w-64"}),(0,l.jsx)(_,{label:"Transfer Index",sortKey:"transferIndex",className:"w-36"}),(0,l.jsx)(_,{label:"Price",sortKey:"now_cost",align:"right"}),(0,l.jsx)(_,{label:"Ownership",sortKey:"selected_by_percent",align:"right"}),(0,l.jsx)(_,{label:"Form",sortKey:"form",align:"right"}),y.map(e=>(0,l.jsx)(_,{label:"GW".concat(e),sortKey:"GW".concat(e),align:"center",className:"w-16"},e)),(0,l.jsx)(_,{label:"Diff Score",sortKey:"fixtureDifficultySum",align:"center"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-700/50 text-sm",children:N.map((e,t)=>(0,l.jsxs)("tr",{className:"hover:bg-slate-700/30 transition-colors group",children:[(0,l.jsx)("td",{className:"p-4 text-center text-slate-500 font-mono",children:t+1}),(0,l.jsxs)("td",{className:"p-4",children:[(0,l.jsx)("div",{className:"font-bold text-white",children:e.web_name}),(0,l.jsx)("div",{className:"text-xs text-slate-500",children:h(e.team)})]}),(0,l.jsx)("td",{className:"p-4",children:(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("span",{className:"font-bold font-mono text-base ".concat(e.transferIndex>.7?"text-green-400":e.transferIndex>.5?"text-blue-400":"text-slate-400"),children:e.transferIndex.toFixed(2)}),(0,l.jsx)("div",{className:"w-full h-1.5 bg-slate-700 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full ".concat(e.transferIndex>.7?"bg-green-500":"bg-blue-500"),style:{width:"".concat(100*e.transferIndex,"%")}})})]})}),(0,l.jsxs)("td",{className:"p-4 text-right font-mono text-blue-300",children:["\xa3",e.now_cost/10]}),(0,l.jsxs)("td",{className:"p-4 text-right font-mono text-slate-300",children:[e.selected_by_percent,"%"]}),(0,l.jsx)("td",{className:"p-4 text-right font-bold text-white",children:e.form}),y.map(t=>{let s=e.nextFixtures.find(e=>e.event===t);if(!s||0===s.opponent)return(0,l.jsx)("td",{className:"p-1",children:(0,l.jsx)("div",{className:"w-full h-8 bg-slate-800 rounded flex items-center justify-center text-[10px] text-slate-600",children:"-"})},t);let a=h(s.opponent),r=f(s.difficulty);return(0,l.jsx)("td",{className:"p-1",children:(0,l.jsxs)("div",{className:"w-full h-8 md:h-9 rounded border-b-2 flex flex-col items-center justify-center shadow-sm ".concat(r),children:[(0,l.jsx)("span",{className:"text-[10px] font-bold leading-none",children:a}),(0,l.jsxs)("span",{className:"text-[9px] opacity-80 leading-none",children:["(",s.isHome?"H":"A",")"]})]})},t)}),(0,l.jsx)("td",{className:"p-4 text-center",children:(0,l.jsx)("span",{className:"font-mono text-slate-400",children:e.fixtureDifficultySum})})]},e.id))})]})})})]})};var ed=s(7485),ec=s(3296),ex=s(7545),em=s(9386),eh=s(4724),ep=s(6145),eb=s(1169),eu=s(889),ef=s(6154);let ej=e=>{let{players:t,teams:s}=e,[r,n]=(0,a.useState)("DEF"),i=(0,a.useMemo)(()=>t.filter(e=>parseFloat(e.form)>2).map(e=>{var t;return{name:e.web_name,x:parseFloat(e.selected_by_percent),y:parseFloat(e.form),team:null==(t=s.find(t=>t.id===e.team))?void 0:t.short_name,price:e.now_cost/10,id:e.id}}),[t,s]),o=(0,a.useMemo)(()=>i.filter(e=>e.x<20).sort((e,t)=>t.y-e.y).slice(0,10),[i]),d=(0,a.useMemo)(()=>i.filter(e=>e.x>=20).sort((e,t)=>t.y-e.y).slice(0,10),[i]),c=(0,a.useMemo)(()=>[...t].sort((e,t)=>t.bps-e.bps).slice(0,10),[t]),x=(0,a.useMemo)(()=>{let e="DEF"===r?2:1;return t.filter(t=>t.element_type===e).map(e=>{let t;return t=0+4*e.clean_sheets+Math.floor(e.saves/3)+5*e.penalties_saved,{...e,defensive_points:t}}).sort((e,t)=>t.defensive_points-e.defensive_points).slice(0,10)},[t,r]),m=(0,a.useMemo)(()=>({influence:[...t].sort((e,t)=>parseFloat(t.influence)-parseFloat(e.influence)).slice(0,5),creativity:[...t].sort((e,t)=>parseFloat(t.creativity)-parseFloat(e.creativity)).slice(0,5),threat:[...t].sort((e,t)=>parseFloat(t.threat)-parseFloat(e.threat)).slice(0,5)}),[t]),p=e=>{let{active:t,payload:s}=e;if(t&&s&&s.length){let e=s[0].payload;return(0,l.jsxs)("div",{className:"bg-slate-900 p-3 border border-slate-700 rounded shadow-xl z-50",children:[(0,l.jsx)("p",{className:"text-white font-bold",children:e.name}),(0,l.jsxs)("p",{className:"text-slate-400 text-xs",children:[e.team," • \xa3",e.price]}),(0,l.jsxs)("div",{className:"mt-2 space-y-1 text-xs",children:[(0,l.jsxs)("p",{className:"text-blue-400",children:["Ownership: ",e.x,"%"]}),(0,l.jsxs)("p",{className:"text-green-400",children:["Form: ",e.y]})]})]})}return null},f=e=>{let{data:t}=e;return(0,l.jsx)("div",{className:"overflow-x-auto mt-4",children:(0,l.jsxs)("table",{className:"w-full text-left border-collapse text-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-slate-900/50 text-slate-400 text-xs uppercase border-b border-slate-700",children:[(0,l.jsx)("th",{className:"p-2 w-10 text-center",children:"#"}),(0,l.jsx)("th",{className:"p-2",children:"Player"}),(0,l.jsx)("th",{className:"p-2 text-right",children:"Price"}),(0,l.jsx)("th",{className:"p-2 text-right",children:"Ownership"}),(0,l.jsx)("th",{className:"p-2 text-right text-green-400",children:"Form"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-700/50",children:t.map((e,t)=>(0,l.jsxs)("tr",{className:"hover:bg-slate-700/30",children:[(0,l.jsx)("td",{className:"p-2 text-center text-slate-500 font-mono",children:t+1}),(0,l.jsxs)("td",{className:"p-2 font-bold text-slate-200",children:[e.name," ",(0,l.jsxs)("span",{className:"text-slate-500 font-normal text-xs",children:["(",e.team,")"]})]}),(0,l.jsxs)("td",{className:"p-2 text-right font-mono text-blue-300",children:["\xa3",e.price]}),(0,l.jsxs)("td",{className:"p-2 text-right text-slate-300",children:[e.x,"%"]}),(0,l.jsx)("td",{className:"p-2 text-right font-bold text-white",children:e.y})]},e.id))})]})})};return(0,l.jsxs)("div",{className:"space-y-12 animate-in fade-in duration-500 pb-10",children:[(0,l.jsxs)("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-lg",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 mb-2",children:[(0,l.jsx)(v.A,{className:"text-purple-400"})," Detailed Analyses"]}),(0,l.jsx)("p",{className:"text-slate-400",children:"Deep dive into underlying statistics to find hidden edges."})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"flex flex-col md:flex-row gap-4 items-start",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2 mb-2",children:[(0,l.jsx)(ep.A,{className:"text-red-400"})," The Differential Hunter"]}),(0,l.jsxs)("div",{className:"bg-blue-900/20 border border-blue-500/20 p-4 rounded-lg flex gap-3 text-sm text-slate-300",children:[(0,l.jsx)(ee.A,{className:"text-blue-400 shrink-0",size:18}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-bold text-white mb-1",children:"What is this?"}),(0,l.jsxs)("p",{children:["This chart plots ",(0,l.jsx)("strong",{children:"Ownership %"})," (X-axis) against ",(0,l.jsx)("strong",{children:"Current Form"})," (Y-axis)."]}),(0,l.jsxs)("p",{className:"mt-2",children:["We are showing the ",(0,l.jsx)("strong",{children:"Top 10 players"})," in each category (Low vs High Ownership) based on form."]})]})]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 shadow-lg flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4 border-b border-slate-700 pb-2",children:[(0,l.jsxs)("h4",{className:"font-bold text-white flex items-center gap-2",children:[(0,l.jsx)(b.A,{className:"text-yellow-400",size:18}),"Hidden Gems (< 20%)"]}),(0,l.jsx)("span",{className:"text-xs text-slate-500",children:"True Differentials"})]}),(0,l.jsx)("div",{className:"h-[300px]",children:(0,l.jsx)(G.u,{width:"100%",height:"100%",children:(0,l.jsxs)(ed.t,{margin:{top:20,right:20,bottom:20,left:0},children:[(0,l.jsx)(R.d,{strokeDasharray:"3 3",stroke:"#334155"}),(0,l.jsx)(W.W,{type:"number",dataKey:"x",name:"Ownership",unit:"%",domain:[0,20],stroke:"#94a3b8",children:(0,l.jsx)(ec.JU,{value:"Ownership %",offset:-10,position:"insideBottom",fill:"#64748b",style:{fontSize:"12px"}})}),(0,l.jsx)(H.h,{type:"number",dataKey:"y",name:"Form",stroke:"#94a3b8",domain:["auto","auto"],children:(0,l.jsx)(ec.JU,{value:"Form",angle:-90,position:"insideLeft",offset:10,fill:"#64748b",style:{fontSize:"12px"}})}),(0,l.jsx)(B.m,{cursor:{strokeDasharray:"3 3"},content:(0,l.jsx)(p,{}),offset:30}),(0,l.jsxs)(ex.Xl,{name:"Players",data:o,fill:"#8884d8",children:[o.map((e,t)=>(0,l.jsx)(em.f,{fill:e.y>6?"#eab308":"#818cf8"},"cell-low-".concat(t))),(0,l.jsx)(eh.Ze,{dataKey:"name",position:"top",offset:5,style:{fontSize:"10px",fill:"#cbd5e1"}})]})]})})}),(0,l.jsx)(f,{data:o})]}),(0,l.jsxs)("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 shadow-lg flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4 border-b border-slate-700 pb-2",children:[(0,l.jsxs)("h4",{className:"font-bold text-white flex items-center gap-2",children:[(0,l.jsx)(eb.A,{className:"text-blue-400",size:18}),"The Template (≥ 20%)"]}),(0,l.jsx)("span",{className:"text-xs text-slate-500",children:"Popular Assets"})]}),(0,l.jsx)("div",{className:"h-[300px]",children:(0,l.jsx)(G.u,{width:"100%",height:"100%",children:(0,l.jsxs)(ed.t,{margin:{top:20,right:20,bottom:20,left:0},children:[(0,l.jsx)(R.d,{strokeDasharray:"3 3",stroke:"#334155"}),(0,l.jsx)(W.W,{type:"number",dataKey:"x",name:"Ownership",unit:"%",domain:[20,"auto"],stroke:"#94a3b8",children:(0,l.jsx)(ec.JU,{value:"Ownership %",offset:-10,position:"insideBottom",fill:"#64748b",style:{fontSize:"12px"}})}),(0,l.jsx)(H.h,{type:"number",dataKey:"y",name:"Form",stroke:"#94a3b8",domain:["auto","auto"],children:(0,l.jsx)(ec.JU,{value:"Form",angle:-90,position:"insideLeft",offset:10,fill:"#64748b",style:{fontSize:"12px"}})}),(0,l.jsx)(B.m,{cursor:{strokeDasharray:"3 3"},content:(0,l.jsx)(p,{}),offset:30}),(0,l.jsxs)(ex.Xl,{name:"Players",data:d,fill:"#8884d8",children:[d.map((e,t)=>(0,l.jsx)(em.f,{fill:"#22c55e"},"cell-high-".concat(t))),(0,l.jsx)(eh.Ze,{dataKey:"name",position:"top",offset:5,style:{fontSize:"10px",fill:"#cbd5e1"}})]})]})})}),(0,l.jsx)(f,{data:d})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2 mb-2",children:[(0,l.jsx)(u.A,{className:"text-blue-400"})," Defensive Titans"]}),(0,l.jsxs)("div",{className:"bg-blue-900/20 border border-blue-500/20 p-4 rounded-lg flex gap-3 text-sm text-slate-300",children:[(0,l.jsx)(L.A,{className:"text-blue-400 shrink-0",size:18}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-bold text-white mb-1",children:"True Defensive Points & BPS"}),(0,l.jsxs)("p",{children:["This table calculates points earned purely from defensive actions: ",(0,l.jsx)("strong",{children:"Clean Sheets"}),", ",(0,l.jsx)("strong",{children:"Saves"}),", and ",(0,l.jsx)("strong",{children:"Penalty Saves"}),".",(0,l.jsx)("br",{}),"We also show ",(0,l.jsx)("strong",{children:"BPS"})," (Bonus Points System), which reflects defensive contributions like Clearances, Blocks, and Interceptions."]})]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{onClick:()=>n("DEF"),className:"px-4 py-2 rounded-lg text-sm font-bold transition-colors ".concat("DEF"===r?"bg-blue-600 text-white":"bg-slate-800 text-slate-400 hover:text-white border border-slate-700"),children:"Defenders"}),(0,l.jsx)("button",{onClick:()=>n("GKP"),className:"px-4 py-2 rounded-lg text-sm font-bold transition-colors ".concat("GKP"===r?"bg-blue-600 text-white":"bg-slate-800 text-slate-400 hover:text-white border border-slate-700"),children:"Goalkeepers"})]}),(0,l.jsx)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 shadow-lg overflow-hidden",children:(0,l.jsxs)("table",{className:"w-full text-left",children:[(0,l.jsx)("thead",{className:"bg-slate-900/50 text-slate-400 text-xs uppercase",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-3",children:"Rank"}),(0,l.jsx)("th",{className:"p-3",children:"Player"}),(0,l.jsx)("th",{className:"p-3 text-right",children:"Clean Sheets"}),"GKP"===r&&(0,l.jsx)("th",{className:"p-3 text-right",children:"Saves"}),(0,l.jsx)("th",{className:"p-3 text-right text-yellow-400",children:"BPS"}),(0,l.jsx)("th",{className:"p-3 text-right font-bold text-white",children:"Def. Points"}),(0,l.jsx)("th",{className:"p-3 text-right",children:"Total Pts"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-700/50 text-sm",children:x.map((e,t)=>{var a;return(0,l.jsxs)("tr",{className:"hover:bg-slate-700/30",children:[(0,l.jsxs)("td",{className:"p-3 text-slate-500 font-mono",children:["#",t+1]}),(0,l.jsxs)("td",{className:"p-3 font-bold text-white",children:[e.web_name," ",(0,l.jsxs)("span",{className:"text-slate-500 text-xs font-normal",children:["(",null==(a=s.find(t=>t.id===e.team))?void 0:a.short_name,")"]})]}),(0,l.jsx)("td",{className:"p-3 text-right text-slate-300",children:e.clean_sheets}),"GKP"===r&&(0,l.jsx)("td",{className:"p-3 text-right text-slate-300",children:e.saves}),(0,l.jsx)("td",{className:"p-3 text-right font-mono text-yellow-400/80",children:e.bps}),(0,l.jsx)("td",{className:"p-3 text-right font-mono text-blue-400 font-bold bg-blue-900/10",children:e.defensive_points}),(0,l.jsx)("td",{className:"p-3 text-right text-slate-500 text-xs",children:e.total_points})]},e.id)})})]})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2 mb-2",children:[(0,l.jsx)(h.A,{className:"text-yellow-400"})," Bonus Point Kings"]}),(0,l.jsxs)("div",{className:"bg-blue-900/20 border border-blue-500/20 p-4 rounded-lg flex gap-3 text-sm text-slate-300",children:[(0,l.jsx)(ee.A,{className:"text-blue-400 shrink-0",size:18}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-bold text-white mb-1",children:"What is BPS?"}),(0,l.jsxs)("p",{children:["The ",(0,l.jsx)("strong",{children:"Bonus Points System (BPS)"}),' decides who gets the extra 3, 2, and 1 points after a match. Players high on this list are "magnets" for bonus points because they perform actions the algorithm loves (pass completion, interceptions, dribbles) even if they don\'t score.']})]})]}),(0,l.jsx)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 shadow-lg overflow-hidden",children:(0,l.jsxs)("table",{className:"w-full text-left",children:[(0,l.jsx)("thead",{className:"bg-slate-900/50 text-slate-400 text-xs uppercase",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-3",children:"Rank"}),(0,l.jsx)("th",{className:"p-3",children:"Player"}),(0,l.jsx)("th",{className:"p-3 text-right",children:"BPS Total"}),(0,l.jsx)("th",{className:"p-3 text-right",children:"Points"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-700/50 text-sm",children:c.map((e,t)=>{var a;return(0,l.jsxs)("tr",{className:"hover:bg-slate-700/30",children:[(0,l.jsxs)("td",{className:"p-3 text-slate-500 font-mono",children:["#",t+1]}),(0,l.jsxs)("td",{className:"p-3 font-bold text-white",children:[e.web_name," ",(0,l.jsxs)("span",{className:"text-slate-500 text-xs font-normal",children:["(",null==(a=s.find(t=>t.id===e.team))?void 0:a.short_name,")"]})]}),(0,l.jsx)("td",{className:"p-3 text-right font-mono text-yellow-400 font-bold",children:e.bps}),(0,l.jsx)("td",{className:"p-3 text-right text-slate-300",children:e.total_points})]},e.id)})})]})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2 mb-2",children:[(0,l.jsx)(eu.A,{className:"text-green-400"})," ICT Breakdown"]}),(0,l.jsxs)("div",{className:"bg-blue-900/20 border border-blue-500/20 p-4 rounded-lg flex gap-3 text-sm text-slate-300",children:[(0,l.jsx)(ee.A,{className:"text-blue-400 shrink-0",size:18}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-bold text-white mb-1",children:"Understanding ICT"}),(0,l.jsxs)("p",{className:"mb-1",children:[(0,l.jsx)("strong",{children:"Influence:"})," Measures impact on the match outcome (Best for Captains)."]}),(0,l.jsxs)("p",{className:"mb-1",children:[(0,l.jsx)("strong",{children:"Creativity:"})," Likelihood of delivering assists (Best for Midfielders)."]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Threat:"})," Likelihood of scoring goals (Best for Strikers/Wingers)."]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 p-4",children:[(0,l.jsxs)("h4",{className:"text-slate-400 font-bold uppercase text-xs mb-3 flex items-center gap-2",children:[(0,l.jsx)(b.A,{size:14,className:"text-yellow-400"})," Top Influence"]}),(0,l.jsx)("ul",{className:"space-y-2",children:m.influence.map((e,t)=>(0,l.jsxs)("li",{className:"flex justify-between items-center bg-slate-900/50 p-2 rounded",children:[(0,l.jsxs)("span",{className:"text-sm font-bold text-white",children:[t+1,". ",e.web_name]}),(0,l.jsx)("span",{className:"text-xs font-mono text-yellow-400",children:e.influence})]},e.id))})]}),(0,l.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 p-4",children:[(0,l.jsxs)("h4",{className:"text-slate-400 font-bold uppercase text-xs mb-3 flex items-center gap-2",children:[(0,l.jsx)(ef.A,{size:14,className:"text-blue-400"})," Top Creativity"]}),(0,l.jsx)("ul",{className:"space-y-2",children:m.creativity.map((e,t)=>(0,l.jsxs)("li",{className:"flex justify-between items-center bg-slate-900/50 p-2 rounded",children:[(0,l.jsxs)("span",{className:"text-sm font-bold text-white",children:[t+1,". ",e.web_name]}),(0,l.jsx)("span",{className:"text-xs font-mono text-blue-400",children:e.creativity})]},e.id))})]}),(0,l.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 p-4",children:[(0,l.jsxs)("h4",{className:"text-slate-400 font-bold uppercase text-xs mb-3 flex items-center gap-2",children:[(0,l.jsx)(h.A,{size:14,className:"text-red-400"})," Top Threat"]}),(0,l.jsx)("ul",{className:"space-y-2",children:m.threat.map((e,t)=>(0,l.jsxs)("li",{className:"flex justify-between items-center bg-slate-900/50 p-2 rounded",children:[(0,l.jsxs)("span",{className:"text-sm font-bold text-white",children:[t+1,". ",e.web_name]}),(0,l.jsx)("span",{className:"text-xs font-mono text-red-400",children:e.threat})]},e.id))})]})]})]})]})};var eg=s(9559);let eN=e=>{let{players:t,teams:s}=e,[r,n]=(0,a.useState)(83),[i,o]=(0,a.useState)("form"),[d,c]=(0,a.useState)([]),[x,h]=(0,a.useState)(!1),[b,f]=(0,a.useState)({cost:0,score:0}),j=(e,t)=>{switch(t){case"total_points":return e.total_points;case"form":return parseFloat(e.form);case"value":return e.total_points/(e.now_cost/10);default:return 0}},g=e=>{if(!e)return null;let t=s.find(t=>t.id===e.team),a=j(e,i),r="form"===i?"Form":"total_points"===i?"Pts":"Val";return(0,l.jsx)("div",{className:"relative w-14 h-24 sm:w-20 sm:h-28 md:w-24 md:h-36 flex flex-col items-center group animate-in zoom-in duration-300",children:(0,l.jsxs)("div",{className:"w-full h-full bg-slate-800 rounded-lg overflow-hidden shadow-lg border border-purple-500/30 flex flex-col hover:border-purple-400 transition-colors cursor-pointer",children:[(0,l.jsxs)("div",{className:"h-2/3 bg-gradient-to-b from-slate-700 to-slate-800 flex items-end justify-center overflow-hidden relative",children:[(0,l.jsx)("img",{src:m(e.photo),alt:e.web_name,className:"h-full object-cover translate-y-2",onError:e=>{e.target.src="https://fantasy.premierleague.com/dist/img/shirts/standard/shirt_0-66.png"}}),(0,l.jsxs)("div",{className:"absolute top-0.5 right-0.5 sm:top-1 sm:right-1 bg-slate-900/90 text-[8px] sm:text-[10px] text-purple-400 font-mono px-1 rounded border border-purple-500/30 z-10",children:[a.toFixed(1)," ",(0,l.jsx)("span",{className:"text-[6px] sm:text-[8px] uppercase opacity-70 hidden sm:inline",children:r})]})]}),(0,l.jsxs)("div",{className:"h-1/3 bg-slate-900 p-0.5 sm:p-1 text-center border-t border-slate-700 flex flex-col justify-center",children:[(0,l.jsx)("div",{className:"text-[9px] sm:text-xs font-bold text-white truncate px-0.5",children:e.web_name}),(0,l.jsxs)("div",{className:"flex justify-between items-center px-0.5 sm:px-1 gap-1",children:[(0,l.jsx)("div",{className:"text-[8px] sm:text-[10px] text-slate-400 uppercase truncate max-w-[50%]",children:null==t?void 0:t.short_name}),(0,l.jsxs)("div",{className:"text-[8px] sm:text-[10px] font-mono text-green-400",children:["\xa3",e.now_cost/10]})]})]})]})})};return(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 h-full animate-in fade-in duration-500",children:[(0,l.jsxs)("div",{className:"w-full lg:w-80 flex flex-col gap-6 shrink-0",children:[(0,l.jsxs)("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-lg",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,l.jsx)(ei.A,{className:"text-purple-400"})," Auto-Solver"]}),(0,l.jsx)("p",{className:"text-sm text-slate-400 mb-6",children:"Set your parameters and let our algorithm calculate the statistically best Starting XI."}),(0,l.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,l.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"Optimization Goal"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,l.jsxs)("button",{onClick:()=>o("form"),className:"p-3 rounded-lg border flex items-center justify-between transition-all ".concat("form"===i?"bg-purple-600 border-purple-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-500"),children:[(0,l.jsxs)("span",{className:"flex items-center gap-2",children:[(0,l.jsx)(p.A,{size:16})," Maximize Form"]}),"form"===i&&(0,l.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})]}),(0,l.jsxs)("button",{onClick:()=>o("total_points"),className:"p-3 rounded-lg border flex items-center justify-between transition-all ".concat("total_points"===i?"bg-purple-600 border-purple-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-500"),children:[(0,l.jsxs)("span",{className:"flex items-center gap-2",children:[(0,l.jsx)(w.A,{size:16})," Maximize Points"]}),"total_points"===i&&(0,l.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})]}),(0,l.jsxs)("button",{onClick:()=>o("value"),className:"p-3 rounded-lg border flex items-center justify-between transition-all ".concat("value"===i?"bg-purple-600 border-purple-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-500"),children:[(0,l.jsxs)("span",{className:"flex items-center gap-2",children:[(0,l.jsx)(V.A,{size:16})," Maximize Value"]}),"value"===i&&(0,l.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-3 mb-8",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"Starting XI Budget"}),(0,l.jsxs)("span",{className:"text-green-400 font-mono font-bold",children:["\xa3",r.toFixed(1),"m"]})]}),(0,l.jsx)("input",{type:"range",min:"60",max:"100",step:"0.5",value:r,onChange:e=>n(parseFloat(e.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),(0,l.jsxs)("div",{className:"flex justify-between text-[10px] text-slate-500 font-mono",children:[(0,l.jsx)("span",{children:"\xa360m"}),(0,l.jsx)("span",{children:"\xa3100m"})]})]}),(0,l.jsxs)("button",{onClick:()=>{h(!0),setTimeout(()=>{let e=t.filter(e=>{let t=e.status;return"u"!==t&&"i"!==t});e.sort((e,t)=>j(t,i)-j(e,i));let s={1:1,2:3,3:4,4:3},l=[],a={},n=e=>{l.push(e),a[e.team]=(a[e.team]||0)+1};for(let t of e){if(l.length>=11)break;let e=t.element_type;l.filter(t=>t.element_type===e).length<s[e]&&3>(a[t.team]||0)&&n(t)}if(l.length<11)for(let t of e){if(l.length>=11)break;if(l.find(e=>e.id===t.id))continue;let e=t.element_type,s=l.filter(t=>t.element_type===e).length,r=a[t.team]||0;1===e&&s>=1||2===e&&s>=5||3===e&&s>=5||4===e&&s>=3||r>=3||n(t)}let o=0,d=l.reduce((e,t)=>e+t.now_cost/10,0);for(;d>r&&o<1e3;){o++;let t=-1,s=1/0;if(l.forEach((e,l)=>{let a=j(e,i)/Math.pow(e.now_cost/10,1.5);a<s&&(s=a,t=l)}),-1===t)break;let r=l[t],c=r.element_type;l.splice(t,1),a[r.team]--;let x=e.find(e=>e.element_type===c&&!!(e.now_cost<r.now_cost)&&!l.find(t=>t.id===e.id)&&!((a[e.team]||0)>=3));if(x)n(x);else{n(r);break}d=l.reduce((e,t)=>e+t.now_cost/10,0)}let x=l.reduce((e,t)=>e+t.now_cost/10,0),m=l.reduce((e,t)=>e+j(t,i),0);c(l),f({cost:x,score:m}),h(!1)},800)},disabled:x,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white font-bold rounded-lg shadow-lg flex items-center justify-center gap-2 transition-all transform hover:scale-105 disabled:opacity-50 disabled:scale-100",children:[x?(0,l.jsx)(eg.A,{className:"animate-spin"}):(0,l.jsx)(ef.A,{className:"fill-white"}),x?"Calculating...":"Generate Optimal 11"]})]}),d.length>0&&(0,l.jsxs)("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-lg animate-in slide-in-from-bottom-4",children:[(0,l.jsx)("h3",{className:"text-sm font-bold text-slate-400 uppercase mb-4",children:"Projected Stats"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"bg-slate-900 p-3 rounded-lg border border-slate-700",children:[(0,l.jsx)("div",{className:"text-xs text-slate-500 mb-1",children:"Total Cost"}),(0,l.jsxs)("div",{className:"text-xl font-bold font-mono ".concat(b.cost>r?"text-red-500":"text-green-400"),children:["\xa3",b.cost.toFixed(1),"m"]})]}),(0,l.jsxs)("div",{className:"bg-slate-900 p-3 rounded-lg border border-slate-700",children:[(0,l.jsxs)("div",{className:"text-xs text-slate-500 mb-1",children:["Total ","form"===i?"Form":"Points"]}),(0,l.jsx)("div",{className:"text-xl font-bold font-mono text-purple-400",children:b.score.toFixed(1)})]})]}),b.cost>r&&(0,l.jsxs)("div",{className:"mt-3 text-xs text-red-400 flex items-center gap-2",children:[(0,l.jsx)(N.A,{size:12})," Budget exceeded slightly."]})]})]}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)("div",{className:"relative bg-gradient-to-b from-slate-800 to-slate-900 rounded-xl border border-slate-700 shadow-2xl overflow-hidden min-h-[600px] md:min-h-[700px] flex flex-col",children:0===d.length?(0,l.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-500",children:[(0,l.jsx)(u.A,{size:64,className:"mb-4 opacity-20"}),(0,l.jsx)("p",{children:"Ready to generate."}),(0,l.jsx)("p",{className:"text-sm",children:"Select parameters and click Generate."})]}):(0,l.jsxs)("div",{className:"relative flex-1 p-2 md:p-8 flex flex-col justify-between select-none py-6",children:[(0,l.jsxs)("div",{className:"absolute inset-4 rounded border-2 border-slate-600/30 pointer-events-none",children:[(0,l.jsx)("div",{className:"absolute top-0 left-1/4 right-1/4 h-16 border-b-2 border-x-2 border-slate-600/30"}),(0,l.jsx)("div",{className:"absolute bottom-0 left-1/4 right-1/4 h-16 border-t-2 border-x-2 border-slate-600/30"}),(0,l.jsx)("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-slate-600/30"}),(0,l.jsx)("div",{className:"absolute top-1/2 left-1/2 w-32 h-32 -translate-x-1/2 -translate-y-1/2 border-2 border-slate-600/30 rounded-full"})]}),(0,l.jsx)("div",{className:"flex justify-center relative z-10",children:g(d.filter(e=>1===e.element_type)[0]||null)}),(0,l.jsx)("div",{className:"flex justify-center gap-1 md:gap-6 relative z-10",children:d.filter(e=>2===e.element_type).map(e=>(0,l.jsx)("div",{children:g(e)},e.id))}),(0,l.jsx)("div",{className:"flex justify-center gap-1 md:gap-6 relative z-10",children:d.filter(e=>3===e.element_type).map(e=>(0,l.jsx)("div",{children:g(e)},e.id))}),(0,l.jsx)("div",{className:"flex justify-center gap-1 md:gap-6 relative z-10",children:d.filter(e=>4===e.element_type).map(e=>(0,l.jsx)("div",{children:g(e)},e.id))})]})})})]})},ev=e=>{let{teams:t,fixtures:s}=e,[r,n]=(0,a.useState)("ATTACK"),i=(0,a.useMemo)(()=>{let e=s.filter(e=>e.finished).sort((e,t)=>new Date(t.kickoff_time).getTime()-new Date(e.kickoff_time).getTime());if(0===e.length)return[];let l={};return t.forEach(e=>{l[e.id]={id:e.id,name:e.name,short_name:e.short_name,played:0,scored:0,conceded:0,cleanSheets:0,failedToScore:0,results:[]}}),t.forEach(t=>{e.filter(e=>e.team_h===t.id||e.team_a===t.id).slice(0,5).forEach(e=>{var s,a,r,n;let i=l[t.id],o=e.team_h===t.id,d=o?null!=(s=e.team_h_score)?s:0:null!=(a=e.team_a_score)?a:0,c=o?null!=(r=e.team_a_score)?r:0:null!=(n=e.team_h_score)?n:0,x=o?e.team_a:e.team_h;i.played++,i.scored+=d,i.conceded+=c,0===c&&i.cleanSheets++,0===d&&i.failedToScore++;let m="D";d>c&&(m="W"),d<c&&(m="L"),i.results.push({opponent:x,score:"".concat(d,"-").concat(c),result:m,isHome:o})})}),Object.values(l)},[t,s]),o=(0,a.useMemo)(()=>[...i].sort((e,t)=>{if("ATTACK"===r){let s=e.scored/(e.played||1),l=t.scored/(t.played||1);return l!==s?l-s:t.scored-e.scored}{let s=e.conceded/(e.played||1),l=t.conceded/(t.played||1);return s!==l?s-l:t.cleanSheets-e.cleanSheets}}),[i,r]);return(0,l.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,l.jsxs)("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-lg",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4 mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:["ATTACK"===r?(0,l.jsx)(p.A,{className:"text-green-400"}):(0,l.jsx)(u.A,{className:"text-blue-400"}),"Team Form Analysis"]}),(0,l.jsxs)("p",{className:"text-slate-400 text-sm mt-1",children:["Analyzing performance over the ",(0,l.jsx)("strong",{children:"Last 5 Matches"}),"."]})]}),(0,l.jsxs)("div",{className:"bg-slate-900 p-1 rounded-lg border border-slate-700 flex",children:[(0,l.jsxs)("button",{onClick:()=>n("ATTACK"),className:"px-4 py-2 rounded text-sm font-bold flex items-center gap-2 transition-all ".concat("ATTACK"===r?"bg-green-600 text-white shadow":"text-slate-400 hover:text-white"),children:[(0,l.jsx)(p.A,{size:16})," Attacking"]}),(0,l.jsxs)("button",{onClick:()=>n("DEFENSE"),className:"px-4 py-2 rounded text-sm font-bold flex items-center gap-2 transition-all ".concat("DEFENSE"===r?"bg-blue-600 text-white shadow":"text-slate-400 hover:text-white"),children:[(0,l.jsx)(u.A,{size:16})," Defensive"]})]})]}),(0,l.jsxs)("div",{className:"bg-blue-900/20 border border-blue-500/20 p-4 rounded-lg flex gap-3 text-sm text-slate-300",children:[(0,l.jsx)(ee.A,{className:"text-blue-400 shrink-0",size:18}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:(0,l.jsx)("strong",{children:"ATTACK"===r?"Goal Scoring Potential":"Defensive Solidity"})}),(0,l.jsxs)("p",{children:["We calculate stats based on the last 5 matches played by each team.",(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"text-green-400 font-bold",children:"Green numbers"})," indicate elite performance (e.g., Scoring > 2.0 per game or Conceding < 0.8)."]})]})]})]}),(0,l.jsx)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 shadow-lg overflow-hidden",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-slate-900/50 text-slate-400 text-xs uppercase tracking-wider border-b border-slate-700",children:[(0,l.jsx)("th",{className:"p-4 w-12 text-center",children:"Rank"}),(0,l.jsx)("th",{className:"p-4 w-48",children:"Team"}),(0,l.jsx)("th",{className:"p-4 text-center",children:"Games"}),"ATTACK"===r?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("th",{className:"p-4 text-right",children:"Goals Scored"}),(0,l.jsx)("th",{className:"p-4 text-right text-white font-bold",children:"GS / Game"}),(0,l.jsx)("th",{className:"p-4 text-right",children:"Failed to Score"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("th",{className:"p-4 text-right",children:"Goals Conceded"}),(0,l.jsx)("th",{className:"p-4 text-right text-white font-bold",children:"GC / Game"}),(0,l.jsx)("th",{className:"p-4 text-right",children:"Clean Sheets"})]}),(0,l.jsx)("th",{className:"p-4 text-center",children:"Goal Diff"}),(0,l.jsx)("th",{className:"p-4 text-left pl-8",children:"Match History (Oldest → Newest)"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-700/50 text-sm",children:o.map((e,s)=>{let a="ATTACK"===r?e.scored/e.played:e.conceded/e.played,n="text-white";return"ATTACK"===r?a>=2?n="text-green-400 font-bold":a<=.8&&(n="text-red-400"):a<=.8?n="text-green-400 font-bold":a>=2&&(n="text-red-400"),(0,l.jsxs)("tr",{className:"hover:bg-slate-700/30 transition-colors group",children:[(0,l.jsxs)("td",{className:"p-4 text-center text-slate-500 font-mono",children:["#",s+1]}),(0,l.jsx)("td",{className:"p-4 font-bold text-white text-base",children:e.name}),(0,l.jsx)("td",{className:"p-4 text-center text-slate-300",children:e.played}),"ATTACK"===r?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("td",{className:"p-4 text-right text-slate-300",children:e.scored}),(0,l.jsx)("td",{className:"p-4 text-right text-lg font-mono ".concat(n),children:a.toFixed(2)}),(0,l.jsx)("td",{className:"p-4 text-right text-slate-400",children:e.failedToScore})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("td",{className:"p-4 text-right text-slate-300",children:e.conceded}),(0,l.jsx)("td",{className:"p-4 text-right text-lg font-mono ".concat(n),children:a.toFixed(2)}),(0,l.jsx)("td",{className:"p-4 text-right text-slate-400",children:e.cleanSheets})]}),(0,l.jsx)("td",{className:"p-4 text-center font-mono text-slate-400",children:(0,l.jsxs)("span",{className:e.scored-e.conceded>0?"text-green-400":e.scored-e.conceded<0?"text-red-400":"",children:[e.scored-e.conceded>0?"+":"",e.scored-e.conceded]})}),(0,l.jsx)("td",{className:"p-4 pl-8",children:(0,l.jsx)("div",{className:"flex items-center gap-1.5",children:[...e.results].reverse().map((e,s)=>(0,l.jsx)("div",{className:"relative group/tooltip",children:(0,l.jsxs)("div",{className:"\n                                          w-12 h-8 rounded flex flex-col items-center justify-center border shadow-sm cursor-help\n                                          ".concat("W"===e.result?"bg-green-600 border-green-500":"D"===e.result?"bg-slate-600 border-slate-500":"bg-red-600 border-red-500","\n                                       "),children:[(0,l.jsx)("span",{className:"text-[10px] font-bold text-white leading-none mb-0.5",children:(e=>{var s;return(null==(s=t.find(t=>t.id===e))?void 0:s.short_name)||"UNK"})(e.opponent)}),(0,l.jsx)("span",{className:"text-[9px] text-white/90 leading-none font-mono",children:e.score})]})},s))})})]},e.id)})})]})})})]})};var ew=s(2702),ey=s(3),e_=s(6132);let ek=e=>{var t,s;let{players:r,teams:n,events:i}=e,o=(0,a.useMemo)(()=>{var e;return(null==(e=i.filter(e=>e.finished).pop())?void 0:e.id)||1},[i]);(null==(t=i.find(e=>e.is_current))?void 0:t.id)||null==(s=i.find(e=>e.is_next))||s.id;let d=Math.max(1,o-4),[c,m]=(0,a.useState)(d),[b,u]=(0,a.useState)(o),[f,j]=(0,a.useState)(!1),[g,N]=(0,a.useState)(null),[w,y]=(0,a.useState)([]),[_,k]=(0,a.useState)(!1),[F,T]=(0,a.useState)("all"),[C,P]=(0,a.useState)({key:"total_points",direction:"desc"}),z=(0,a.useCallback)(async(e,t)=>{if(e>t)return void N("Start Gameweek must be before End Gameweek.");j(!0),N(null),y([]);try{let s=[...r].sort((e,t)=>t.total_points-e.total_points).slice(0,50).map(async s=>{try{var l;let a=(await x(s.id)).history.filter(s=>s.round>=e&&s.round<=t);if(0===a.length)return null;let r=a.map(e=>e.total_points).sort((e,t)=>e-t),i=0;if(r.length>0){let e=Math.floor(r.length/2);i=r.length%2!=0?r[e]:(r[e-1]+r[e])/2}let o=a.filter(e=>e.total_points>2).length/a.length*100,d=a.reduce((e,t)=>({goals:e.goals+t.goals_scored,assists:e.assists+t.assists,clean_sheets:e.clean_sheets+t.clean_sheets,bonus:e.bonus+t.bonus,total_points:e.total_points+t.total_points,threat:e.threat+parseFloat(t.threat),creativity:e.creativity+parseFloat(t.creativity)}),{goals:0,assists:0,clean_sheets:0,bonus:0,total_points:0,threat:0,creativity:0}),c=a.map(e=>e.total_points);return{id:s.id,web_name:s.web_name,team:(null==(l=n.find(e=>e.id===s.team))?void 0:l.short_name)||"UNK",element_type:s.element_type,ownership:s.selected_by_percent,median_points:i,consistency:o,matches_played:a.length,points_history:c,...d}}catch(e){return console.warn("Failed to fetch history for ".concat(s.web_name),e),null}}),l=(await Promise.all(s)).filter(e=>null!==e);y(l)}catch(e){console.error(e),N("Failed to fetch player data. Please try again later.")}finally{j(!1)}},[r,n]);(0,a.useEffect)(()=>{!_&&r.length>0&&(z(d,o),k(!0))},[_,r,d,o,z]);let D=e=>{let t=Math.max(1,o-e+1);m(t),u(o),z(t,o)},E=e=>c===Math.max(1,o-e+1)&&b===o,M=(0,a.useMemo)(()=>{let e=w;return"all"!==F&&(e=e.filter(e=>e.element_type===F)),e.sort((e,t)=>{let s=e["ownership_num"===C.key?"ownership":C.key],l=t["ownership_num"===C.key?"ownership":C.key];return(("ownership_num"===C.key||"ownership"===C.key)&&(s=parseFloat(s),l=parseFloat(l)),s<l)?"asc"===C.direction?-1:1:s>l?"asc"===C.direction?1:-1:0})},[w,F,C]),L=e=>{P(t=>({key:e,direction:t.key===e&&"desc"===t.direction?"asc":"desc"}))},I=e=>{let{colKey:t}=e;return("ownership_num"===C.key?"ownership":C.key)!==("ownership_num"===t?"ownership":t)?(0,l.jsx)(X.A,{size:14,className:"text-slate-600 inline ml-1"}):"asc"===C.direction?(0,l.jsx)(A.A,{size:14,className:"text-purple-400 inline ml-1"}):(0,l.jsx)(S.A,{size:14,className:"text-purple-400 inline ml-1"})};return(0,l.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[(0,l.jsx)("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-lg",children:(0,l.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 mb-2",children:[(0,l.jsx)(ew.A,{className:"text-purple-400"})," Period Analysis"]}),(0,l.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Analyze player performance over a specific range of Gameweeks."}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[(0,l.jsxs)("div",{className:"bg-slate-900/50 p-3 rounded border border-slate-700/50",children:[(0,l.jsxs)("h4",{className:"text-white font-bold text-xs mb-1 flex items-center gap-2",children:[(0,l.jsx)(v.A,{size:14,className:"text-blue-400"})," Median Points (Typical Score)"]}),(0,l.jsxs)("p",{className:"text-[11px] text-slate-400 leading-relaxed",children:["The middle value of their scores. Unlike 'Average', this ignores one-off lucky weeks (hauls) to show you what the player ",(0,l.jsx)("em",{children:"typically"})," scores."]})]}),(0,l.jsxs)("div",{className:"bg-slate-900/50 p-3 rounded border border-slate-700/50",children:[(0,l.jsxs)("h4",{className:"text-white font-bold text-xs mb-1 flex items-center gap-2",children:[(0,l.jsx)(ef.A,{size:14,className:"text-green-400"})," Consistency (Reliability)"]}),(0,l.jsxs)("p",{className:"text-[11px] text-slate-400 leading-relaxed",children:["The percentage of matches where the player scored ",(0,l.jsx)("strong",{children:"more than 2 points"}),'. Higher means they rarely "blank".']})]}),(0,l.jsxs)("div",{className:"bg-slate-900/50 p-3 rounded border border-slate-700/50",children:[(0,l.jsxs)("h4",{className:"text-white font-bold text-xs mb-1 flex items-center gap-2",children:[(0,l.jsx)(h.A,{size:14,className:"text-red-400"})," Threat (xG Proxy)"]}),(0,l.jsxs)("p",{className:"text-[11px] text-slate-400 leading-relaxed",children:["Measures a player's threat on goal. High Threat usually correlates with high ",(0,l.jsx)("strong",{children:"Expected Goals (xG)"}),"."]})]}),(0,l.jsxs)("div",{className:"bg-slate-900/50 p-3 rounded border border-slate-700/50",children:[(0,l.jsxs)("h4",{className:"text-white font-bold text-xs mb-1 flex items-center gap-2",children:[(0,l.jsx)(ey.A,{size:14,className:"text-blue-400"})," Creativity (xA Proxy)"]}),(0,l.jsxs)("p",{className:"text-[11px] text-slate-400 leading-relaxed",children:["Measures ability to create chances. High Creativity usually correlates with high ",(0,l.jsx)("strong",{children:"Expected Assists (xA)"}),"."]})]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 bg-slate-900/50 p-4 rounded-lg border border-slate-700",children:[(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,l.jsx)("button",{onClick:()=>D(3),className:"px-3 py-2 text-xs font-bold rounded transition-colors border ".concat(E(3)?"bg-purple-600 border-purple-500 text-white shadow":"bg-slate-700 border-slate-600 text-slate-300 hover:bg-slate-600 hover:text-white"),children:"Last 3"}),(0,l.jsx)("button",{onClick:()=>D(5),className:"px-3 py-2 text-xs font-bold rounded transition-colors border ".concat(E(5)?"bg-purple-600 border-purple-500 text-white shadow":"bg-slate-700 border-slate-600 text-slate-300 hover:bg-slate-600 hover:text-white"),children:"Last 5"}),(0,l.jsx)("button",{onClick:()=>D(10),className:"px-3 py-2 text-xs font-bold rounded transition-colors border ".concat(E(10)?"bg-purple-600 border-purple-500 text-white shadow":"bg-slate-700 border-slate-600 text-slate-300 hover:bg-slate-600 hover:text-white"),children:"Last 10"})]}),(0,l.jsxs)("div",{className:"flex items-end gap-2",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"From"}),(0,l.jsx)("select",{value:c,onChange:e=>m(Number(e.target.value)),className:"bg-slate-800 border border-slate-600 text-white text-sm rounded px-3 py-2 w-32 focus:ring-2 focus:ring-purple-500 outline-none",children:i.map(e=>(0,l.jsxs)("option",{value:e.id,children:["GW ",e.id]},e.id))})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"To"}),(0,l.jsx)("select",{value:b,onChange:e=>u(Number(e.target.value)),className:"bg-slate-800 border border-slate-600 text-white text-sm rounded px-3 py-2 w-32 focus:ring-2 focus:ring-purple-500 outline-none",children:i.map(e=>(0,l.jsxs)("option",{value:e.id,children:["GW ",e.id," ",e.id===o?"(Latest)":""]},e.id))})]}),(0,l.jsx)("button",{onClick:()=>{z(c,b)},disabled:f,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded transition-colors disabled:opacity-50 flex items-center gap-2 shadow-lg shadow-purple-500/20 ml-2",children:f?(0,l.jsx)(eg.A,{className:"animate-spin",size:18}):"Analyze"})]})]}),g&&(0,l.jsxs)("div",{className:"bg-red-900/20 border border-red-500/50 p-3 rounded flex items-center gap-2 text-red-400 text-sm",children:[(0,l.jsx)(e_.A,{size:16})," ",g]})]})}),w.length>0&&(0,l.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-1",children:[(0,l.jsx)("button",{onClick:()=>T("all"),className:"px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ".concat("all"===F?"bg-blue-600 text-white shadow-lg":"bg-slate-800 text-slate-400 hover:bg-slate-700"),children:"All Players"}),[1,2,3,4].map(e=>(0,l.jsx)("button",{onClick:()=>T(e),className:"px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ".concat(F===e?"bg-blue-600 text-white shadow-lg":"bg-slate-800 text-slate-400 hover:bg-slate-700"),children:1===e?"Goalkeepers":2===e?"Defenders":3===e?"Midfielders":"Forwards"},e))]}),M.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 shadow-lg overflow-hidden",children:[(0,l.jsx)("div",{className:"p-4 border-b border-slate-700 bg-slate-900/30 flex justify-between items-center flex-wrap gap-2",children:(0,l.jsxs)("h3",{className:"font-bold text-white flex items-center gap-2",children:[(0,l.jsx)(p.A,{size:18,className:"text-green-400"})," Points & Consistency"]})}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-slate-900/50 text-slate-400 text-xs uppercase tracking-wider sticky top-0 z-20",children:[(0,l.jsx)("th",{className:"p-4 w-12 text-center bg-slate-900/90 border-b border-slate-700 hidden sm:table-cell",children:"#"}),(0,l.jsxs)("th",{className:"p-4 cursor-pointer hover:text-white sticky left-0 z-30 bg-slate-900/95 border-b border-slate-700 shadow-[2px_0_5px_rgba(0,0,0,0.3)]",onClick:()=>L("web_name"),children:["Player ",(0,l.jsx)(I,{colKey:"web_name"})]}),(0,l.jsxs)("th",{className:"p-4 text-right cursor-pointer hover:text-white bg-slate-900/90 border-b border-slate-700",onClick:()=>L("ownership_num"),children:["Own ",(0,l.jsx)(I,{colKey:"ownership"})]}),(0,l.jsx)("th",{className:"p-4 text-right text-slate-300 bg-slate-900/90 border-b border-slate-700 hidden sm:table-cell",children:"Points History"}),(0,l.jsxs)("th",{className:"p-4 text-right text-blue-400 font-bold cursor-pointer hover:text-white bg-slate-900/90 border-b border-slate-700",title:"Median Score",onClick:()=>L("median_points"),children:["Median ",(0,l.jsx)(I,{colKey:"median_points"})]}),(0,l.jsxs)("th",{className:"p-4 text-right text-green-400 font-bold cursor-pointer hover:text-white bg-slate-900/90 border-b border-slate-700",title:"% of games with > 2 points",onClick:()=>L("consistency"),children:["Consist. ",(0,l.jsx)(I,{colKey:"consistency"})]}),(0,l.jsxs)("th",{className:"p-4 text-right font-bold text-white cursor-pointer hover:text-white bg-slate-900/90 border-b border-slate-700",onClick:()=>L("total_points"),children:["Total Pts ",(0,l.jsx)(I,{colKey:"total_points"})]})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-700/50 text-sm",children:M.map((e,t)=>(0,l.jsxs)("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[(0,l.jsx)("td",{className:"p-4 text-center text-slate-500 font-mono hidden sm:table-cell",children:t+1}),(0,l.jsxs)("td",{className:"p-4 sticky left-0 z-10 bg-slate-800 shadow-[2px_0_5px_rgba(0,0,0,0.3)] border-r border-slate-700/50",children:[(0,l.jsx)("div",{className:"font-bold text-white",children:e.web_name}),(0,l.jsx)("div",{className:"text-xs text-slate-500",children:e.team})]}),(0,l.jsxs)("td",{className:"p-4 text-right font-mono text-slate-400",children:[e.ownership,"%"]}),(0,l.jsx)("td",{className:"p-4 hidden sm:table-cell",children:(0,l.jsx)("div",{className:"flex justify-end gap-1",children:e.points_history.map((e,t)=>(0,l.jsx)("div",{className:"w-5 h-5 md:w-6 md:h-6 flex items-center justify-center text-[9px] md:text-[10px] font-bold rounded border ".concat(e>=10?"bg-purple-600 border-purple-500 text-white":e>=6?"bg-green-600 border-green-500 text-white":e>2?"bg-slate-600 border-slate-500 text-white":"bg-slate-800 border-slate-700 text-slate-500"),title:"Match ".concat(t+1,": ").concat(e," pts"),children:e},t))})}),(0,l.jsx)("td",{className:"p-4 text-right font-mono font-bold text-blue-300 bg-blue-900/10 border-l border-r border-slate-700/50",children:e.median_points}),(0,l.jsxs)("td",{className:"p-4 text-right font-mono font-bold text-green-400",children:[e.consistency.toFixed(0),"%"]}),(0,l.jsx)("td",{className:"p-4 text-right font-bold text-white text-base",children:e.total_points})]},e.id))})]})})]}),(0,l.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 shadow-lg overflow-hidden mt-8",children:[(0,l.jsxs)("div",{className:"p-4 border-b border-slate-700 bg-slate-900/30 flex justify-between items-center flex-wrap gap-2",children:[(0,l.jsxs)("h3",{className:"font-bold text-white flex items-center gap-2",children:[(0,l.jsx)(h.A,{size:18,className:"text-red-400"})," Attacking Underlying Stats (Proxies)"]}),(0,l.jsx)("span",{className:"text-[10px] text-slate-500",children:"*Threat ≈ xG, Creativity ≈ xA"})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-slate-900/50 text-slate-400 text-xs uppercase tracking-wider sticky top-0 z-20",children:[(0,l.jsx)("th",{className:"p-4 w-12 text-center bg-slate-900/90 border-b border-slate-700 hidden sm:table-cell",children:"#"}),(0,l.jsxs)("th",{className:"p-4 cursor-pointer hover:text-white sticky left-0 z-30 bg-slate-900/95 border-b border-slate-700 shadow-[2px_0_5px_rgba(0,0,0,0.3)]",onClick:()=>L("web_name"),children:["Player ",(0,l.jsx)(I,{colKey:"web_name"})]}),(0,l.jsxs)("th",{className:"p-4 text-right text-red-400 cursor-pointer hover:text-white bg-slate-900/90 border-b border-slate-700",onClick:()=>L("threat"),children:["Threat ",(0,l.jsx)(I,{colKey:"threat"})]}),(0,l.jsxs)("th",{className:"p-4 text-right text-blue-400 cursor-pointer hover:text-white bg-slate-900/90 border-b border-slate-700",onClick:()=>L("creativity"),children:["Creativity ",(0,l.jsx)(I,{colKey:"creativity"})]}),(0,l.jsxs)("th",{className:"p-4 text-right cursor-pointer hover:text-white bg-slate-900/90 border-b border-slate-700",onClick:()=>L("goals"),children:["Goals ",(0,l.jsx)(I,{colKey:"goals"})]}),(0,l.jsxs)("th",{className:"p-4 text-right cursor-pointer hover:text-white bg-slate-900/90 border-b border-slate-700",onClick:()=>L("assists"),children:["Assists ",(0,l.jsx)(I,{colKey:"assists"})]}),(0,l.jsxs)("th",{className:"p-4 text-right text-yellow-400 cursor-pointer hover:text-white bg-slate-900/90 border-b border-slate-700",onClick:()=>L("bonus"),children:["Bonus ",(0,l.jsx)(I,{colKey:"bonus"})]})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-700/50 text-sm",children:M.map((e,t)=>(0,l.jsxs)("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[(0,l.jsx)("td",{className:"p-4 text-center text-slate-500 font-mono hidden sm:table-cell",children:t+1}),(0,l.jsxs)("td",{className:"p-4 sticky left-0 z-10 bg-slate-800 shadow-[2px_0_5px_rgba(0,0,0,0.3)] border-r border-slate-700/50",children:[(0,l.jsx)("div",{className:"font-bold text-white",children:e.web_name}),(0,l.jsx)("div",{className:"text-xs text-slate-500",children:e.team})]}),(0,l.jsx)("td",{className:"p-4 text-right font-mono text-slate-300",children:e.threat.toFixed(1)}),(0,l.jsx)("td",{className:"p-4 text-right font-mono text-slate-300",children:e.creativity.toFixed(1)}),(0,l.jsx)("td",{className:"p-4 text-right font-bold text-white",children:e.goals}),(0,l.jsx)("td",{className:"p-4 text-right font-bold text-white",children:e.assists}),(0,l.jsx)("td",{className:"p-4 text-right font-mono text-yellow-400",children:e.bonus})]},e.id))})]})})]})]})]})};var eA=s(5633);let eS={PERIOD:"Period Analysis",TRANSFER:"Transfer Picks",TEAM:"Team Analysis",FIXTURES:"Fixtures",STATS:"Player Stats",TABLE:"League Table",DETAILED:"Detailed Stats"},eF=e=>{let{data:t,fixtures:s}=e,[r,n]=(0,a.useState)("PERIOD"),[i,o]=(0,a.useState)("TRANSFER"),d=e=>{switch(e){case"PERIOD":return(0,l.jsx)(ek,{players:t.elements,teams:t.teams,events:t.events});case"TRANSFER":return(0,l.jsx)(eo,{players:t.elements,teams:t.teams,fixtures:s,events:t.events});case"TEAM":return(0,l.jsx)(ev,{teams:t.teams,fixtures:s});case"FIXTURES":return(0,l.jsx)(P,{fixtures:s,teams:t.teams,events:t.events,players:t.elements});case"STATS":return(0,l.jsx)(q,{players:t.elements,teams:t.teams});case"TABLE":return(0,l.jsx)(er,{teams:t.teams,fixtures:s});case"DETAILED":return(0,l.jsx)(ej,{players:t.elements,teams:t.teams});default:return null}};return(0,l.jsxs)("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-in fade-in duration-500",children:[(0,l.jsx)("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 shadow-lg flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 shrink-0",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,l.jsx)(eA.A,{className:"text-purple-400"})," Compare Mode"]}),(0,l.jsx)("p",{className:"text-slate-400 text-xs",children:"View two tools side-by-side for deeper analysis."})]})}),(0,l.jsxs)("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-4 min-h-0",children:[(0,l.jsxs)("div",{className:"flex flex-col bg-slate-900/30 rounded-xl border border-slate-700/50 overflow-hidden",children:[(0,l.jsxs)("div",{className:"p-3 bg-slate-800 border-b border-slate-700 flex justify-between items-center shrink-0",children:[(0,l.jsx)("label",{className:"text-xs font-bold text-purple-400 uppercase tracking-wider",children:"Left Panel"}),(0,l.jsx)("select",{value:r,onChange:e=>n(e.target.value),className:"bg-slate-900 border border-slate-600 text-white text-xs font-bold rounded px-3 py-1.5 focus:ring-2 focus:ring-purple-500 outline-none w-48",children:Object.entries(eS).map(e=>{let[t,s]=e;return(0,l.jsx)("option",{value:t,children:s},t)})})]}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar relative",children:(0,l.jsx)("div",{className:"min-w-[350px]",children:d(r)})})]}),(0,l.jsxs)("div",{className:"flex flex-col bg-slate-900/30 rounded-xl border border-slate-700/50 overflow-hidden",children:[(0,l.jsxs)("div",{className:"p-3 bg-slate-800 border-b border-slate-700 flex justify-between items-center shrink-0",children:[(0,l.jsx)("label",{className:"text-xs font-bold text-blue-400 uppercase tracking-wider",children:"Right Panel"}),(0,l.jsx)("select",{value:i,onChange:e=>o(e.target.value),className:"bg-slate-900 border border-slate-600 text-white text-xs font-bold rounded px-3 py-1.5 focus:ring-2 focus:ring-blue-500 outline-none w-48",children:Object.entries(eS).map(e=>{let[t,s]=e;return(0,l.jsx)("option",{value:t,children:s},t)})})]}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar relative",children:(0,l.jsx)("div",{className:"min-w-[350px]",children:d(i)})})]})]})]})};var eT=s(9540),eC=s(9384),eP=s(3873),ez=s(5664),eD=function(e){return e[e.DASHBOARD=0]="DASHBOARD",e[e.FIXTURES=1]="FIXTURES",e[e.TEAM=2]="TEAM",e[e.STATS=3]="STATS",e[e.DETAILED_STATS=4]="DETAILED_STATS",e[e.TOP_MANAGERS=5]="TOP_MANAGERS",e[e.LEAGUE_TABLE=6]="LEAGUE_TABLE",e[e.TRANSFER_PICKS=7]="TRANSFER_PICKS",e[e.OPTIMAL_SQUAD=8]="OPTIMAL_SQUAD",e[e.TEAM_ANALYSIS=9]="TEAM_ANALYSIS",e[e.PERIOD_ANALYSIS=10]="PERIOD_ANALYSIS",e[e.COMPARE_MODE=11]="COMPARE_MODE",e[e.SCOUT=12]="SCOUT",e}(eD||{});let eE=function(){let[e,t]=(0,a.useState)(0),[s,r]=(0,a.useState)(null),[n,i]=(0,a.useState)([]),[c,x]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null),[p,b]=(0,a.useState)([]),[u,f]=(0,a.useState)(!1),g=async()=>{x(!0),h(null);try{let[e,t]=await Promise.all([o(),d()]);r(e),i(t)}catch(e){console.error(e),h("Failed to load FPL Data. This is often due to public proxy limitations. Please try again.")}finally{x(!1)}};if((0,a.useEffect)(()=>{g()},[]),c)return(0,l.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"}),(0,l.jsx)("p",{className:"text-purple-300 animate-pulse",children:"Connecting to FPL..."})]})});if(m)return(0,l.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-red-900/20 border border-red-500/50 p-8 rounded-xl max-w-md text-center shadow-2xl",children:[(0,l.jsx)("div",{className:"mb-4 flex justify-center text-red-400",children:(0,l.jsx)(D.A,{className:"w-12 h-12"})}),(0,l.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Connection Error"}),(0,l.jsx)("p",{className:"text-slate-300 mb-6",children:m}),(0,l.jsxs)("button",{onClick:g,className:"flex items-center justify-center gap-2 w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition-all transform hover:scale-105",children:[(0,l.jsx)(eg.A,{className:"w-5 h-5"})," Retry Connection"]})]})});if(!s)return null;let N=s=>{let{v:a,label:r,icon:n}=s;return(0,l.jsxs)("button",{onClick:()=>{t(a),f(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ".concat(e===a?"bg-purple-600 text-white shadow-lg shadow-purple-500/20":"text-slate-400 hover:bg-slate-800 hover:text-white"),children:[(0,l.jsx)(n,{size:20}),(0,l.jsx)("span",{className:"font-medium",children:r})]})};return(0,l.jsxs)("div",{className:"min-h-screen bg-slate-950 text-gray-100 flex overflow-hidden",children:[(0,l.jsx)("div",{className:"md:hidden fixed top-4 left-4 z-50",children:(0,l.jsx)("button",{onClick:()=>f(!u),className:"p-2 bg-slate-800 rounded-lg border border-slate-700 text-white shadow-lg",children:u?(0,l.jsx)(D.A,{}):(0,l.jsx)(eT.A,{})})}),(0,l.jsxs)("aside",{className:"fixed md:relative z-40 w-64 h-full bg-slate-900 border-r border-slate-800 transform transition-transform duration-300 ease-in-out ".concat(u?"translate-x-0":"-translate-x-full"," md:translate-x-0 flex flex-col"),children:[(0,l.jsx)("div",{className:"p-6 border-b border-slate-800 shrink-0",children:(0,l.jsx)("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-green-400",children:"FPL Master"})}),(0,l.jsxs)("nav",{className:"p-4 space-y-2 flex-1 overflow-y-auto custom-scrollbar",children:[(0,l.jsx)(N,{v:0,label:"Dashboard",icon:eC.A}),(0,l.jsx)(N,{v:6,label:"League Table",icon:w.A}),(0,l.jsx)(N,{v:9,label:"Team Analysis",icon:Y.A}),(0,l.jsx)(N,{v:10,label:"Period Analysis",icon:ew.A}),(0,l.jsx)(N,{v:1,label:"Fixtures",icon:k.A}),(0,l.jsx)(N,{v:7,label:"Transfer Picks",icon:en.A}),(0,l.jsx)(N,{v:8,label:"Optimal 11",icon:ef.A}),(0,l.jsx)(N,{v:2,label:"My Team",icon:eP.A}),(0,l.jsx)(N,{v:3,label:"Player Stats",icon:ez.A}),(0,l.jsx)(N,{v:4,label:"Detailed Analyses",icon:v.A}),(0,l.jsx)(N,{v:5,label:"Top 100 Managers",icon:eb.A}),(0,l.jsx)(N,{v:11,label:"Compare Mode",icon:eA.A})]}),(0,l.jsx)("div",{className:"p-6 border-t border-slate-800 shrink-0 bg-slate-900",children:(0,l.jsxs)("div",{className:"text-xs text-slate-500",children:["Data provided by Fantasy Premier League. ",(0,l.jsx)("br",{})," Not affiliated with PL."]})})]}),(0,l.jsx)("main",{className:"flex-1 h-screen overflow-y-auto p-4 md:p-8 pt-20 md:pt-8 scroll-smooth",children:(0,l.jsxs)("div",{className:"".concat(11===e?"w-full":"max-w-7xl"," mx-auto h-full"),children:[0===e&&(0,l.jsx)(j,{data:s,myTeam:p,fixtures:n}),6===e&&(0,l.jsx)(er,{teams:s.teams,fixtures:n}),9===e&&(0,l.jsx)(ev,{teams:s.teams,fixtures:n}),10===e&&(0,l.jsx)(ek,{players:s.elements,teams:s.teams,events:s.events}),1===e&&(0,l.jsx)(P,{fixtures:n,teams:s.teams,events:s.events,players:s.elements}),7===e&&(0,l.jsx)(eo,{players:s.elements,teams:s.teams,fixtures:n,events:s.events}),8===e&&(0,l.jsx)(eN,{players:s.elements,teams:s.teams}),2===e&&(0,l.jsx)(K,{allPlayers:s.elements,teams:s.teams,events:s.events,myTeam:p,setMyTeam:b}),3===e&&(0,l.jsx)(q,{players:s.elements,teams:s.teams}),4===e&&(0,l.jsx)(ej,{players:s.elements,teams:s.teams}),5===e&&(0,l.jsx)(es,{players:s.elements,teams:s.teams}),11===e&&(0,l.jsx)(eF,{data:s,fixtures:n})]})})]})};function eM(){return(0,l.jsx)(eE,{})}},9619:(e,t,s)=>{Promise.resolve().then(s.bind(s,3015))}},e=>{e.O(0,[994,441,255,358],()=>e(e.s=9619)),_N_E=e.O()}]);